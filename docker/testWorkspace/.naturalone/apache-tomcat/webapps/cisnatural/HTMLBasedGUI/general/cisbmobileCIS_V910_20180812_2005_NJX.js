function addVersionInfoCSC(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("CSC")}var m_doLog=true;var m_firstUsage=true;var m_pageInactive=false;var m_modelName;var m_modelId;var m_sessionId;var m_processId;var m_pageName="dummy";var m_modelListeners=[];var m_modelListenersLast=[];var m_modelListenersSCROLL=[];var m_propertyListeners=[];var m_propertyListenersTBP=[];var m_statuspropListeners=[];var m_switchToDisplayListeners=[];var m_switchToOccupiedListeners=[];var m_dcListeners=[];var m_properties;var m_model;var m_currentArray;var m_currentRow;var m_internalProperties=[];var m_bufferNeedsRefresh=false;var m_callcounter=0;var m_processCasabacSynchronizeIfNecessary;var m_processInvokeMethodInModel;var m_dateDisplay="DD.MM.YYYY";var m_americanStyle=null;var m_timeDisplay="HH:MM:SS";var m_decimalSeparator=",";var m_1000Separator=true;var m_language="en";var m_direction="ltr";var m_hotKeyCode="17;18";var m_headerObjects=[];var m_footerObjects=[];var m_clickAwayObjects=[];var m_clickAwayMethods=[];var m_avoidClickAway=false;var m_modelDeltaId="inittini";var m_formulas=[];var m_FieldsArray=[];var m_validationRules=[];var m_calledInPopup=false;var casaPopupParameters;var casaPopupReturnValue;var m_parentparent=parent.parent;var m_parentdocument=parent.document;var m_parentparentdocument=parent.parent.document;var m_bufferedxml=null;var m_validationErrors=[];var m_logStrings=[];var m_logDates=[];var m_logIndex=0;var m_mozdivs=[];var m_isSafari;var m_isFirefox;var m_firefoxVersion;var m_inEditMode=null;var m_lastProcessedControlId=-1;var m_continueMethod=null;var m_innerFrames=[];var m_innerFramesIndex=0;var m_innerMFFrames=[];var m_innerMFFramesIndex=0;var m_synchronizePage=false;var m_synchronizeAvoidDrillDown=false;var m_firstFocusCall=true;var m_newModelForAddFocusRequestor=false;var m_focusRequestors=[];var m_focusables=[];var m_focusablesCat=[];var m_focusSETIN=undefined;var m_suppressFocusManagementOncePAGE;var m_hotKeys=[];var m_hotKeysWithCallback=[];var m_hotKeysWithControlScope=[];var m_hotKeysPAGE=new Object();var m_noProcessingForNextHotKey=false;var m_tabElements=new Object();var m_tabElementsUndefined=new Object();var m_completeCounter=0;var m_cscformOccupied=false;var m_cscformxmlstack=[];var m_cre1="\001";var m_cre2="\002";var m_cre3="\003";var m_cre4="\004";var m_cre5="\005";var m_cre6="\006";var m_cre35="\035";var m_cre36="\036";var m_re1=new RegExp("\001","g");var m_re2=new RegExp("\002","g");var m_re3=new RegExp("\003","g");var m_re4=new RegExp("\004","g");var m_re5=new RegExp("\005","g");var m_re6=new RegExp("\006","g");var m_re35=new RegExp("\035","g");var m_re36=new RegExp("\036","g");var m_beforeFirstReactOnNewModel=true;var m_firstModel=true;var m_continueUpdateModelListeners;var m_killedItems=0;var m_pushedContinueMethod;var m_bufferedMethodName="inittini";var m_noactivityuntil;var m_displayOccupied=true;var m_suppressClearAdapterStream=false;var m_doBlockIO=true;var m_checkIOFalseCounter=0;var m_MLValues=[];var m_MLTextNodes=[];var m_MLSpans=[];var m_MLButtons=[];var m_MLOptions=[];var m_MLImages=[];var m_MLTabs=[];var m_openedAmodals=[];var m_lastStamp=undefined;var m_jsversions=[];var m_jsfiles=[];var m_consolelog=undefined;var m_islogonform=false;var m_uiprop=null;var m_uipropframe;var m_resetValiddationErrorsAndFlush;var m_iccInfos=[];var m_resizeTimeout=null;var m_focusTimeout=null;function doReactOnResize(a){for(i=parent.m_resizeListeners.length-1;i>=0;i--){parent.m_resizeListeners[i]()}updateModelListenersScroll(null);m_resizeTimeout=null}function handleReactOnResize(){if(m_modelName==undefined||m_modelName==null){return}if(m_modelName.indexOf("natlegacy")>0){doReactOnResize()}else{if(m_resizeTimeout!=null){return}m_resizeTimeout=99;parent.window.requestAnimationFrame(this.doReactOnResize)}}function addMozDiv(a,b){if(addMozDivInternally){addMozDivInternally(a,b)}}function replaceMozDiv(a,b){if(replaceMozDivInternally){replaceMozDivInternally(a,b)}}function deactivatePage(){m_pageInactive=true;for(var b=0;b<m_openedAmodals.length;b++){try{m_openedAmodals[b].close()}catch(c){}}m_openedAmodals=[];for(var d=0;d<m_innerFrames.length;d++){try{m_innerFrames[d].WORKAREA.csciframe.deactivatePage()}catch(a){}}}function setDisplayPage(b){try{setDisplayTHISOCCUPIED(b)}catch(a){}for(var c=0;c<m_innerFrames.length;c++){try{m_innerFrames[c].WORKAREA.csciframe.setDisplayPage(b)}catch(a){}}}function checkIfPageIsDeactivated(){return m_pageInactive}function getTargetFrame(b,c,a){return CL().C_findFrame(b,c,a)}function initGlobals(){if(m_firstUsage==true){m_firstUsage=false;return}m_modelName=undefined;m_modelId=undefined;m_sessionId=undefined;m_processId=undefined;m_pageName="dummy";m_properties=undefined;m_model=undefined;m_currentArray=undefined;m_currentRow=undefined;m_internalProperties=[];m_bufferNeedsRefresh=false;m_processCasabacSynchronizeIfNecessary=false;m_processInvokeMethodInModel=false;m_avoidClickAway=false;m_modelDeltaId="inittini";m_calledInPopup=false;casaPopupParameters=null;casaPopupReturnValue=null;m_bufferedxml=null;m_validationErrors=[];m_inEditMode=null;m_continueMethod=null;m_innerFrames=[];m_innerFramesIndex=0;m_innerMFFrames=[];m_innerMFFramesIndex=0;m_synchronizePage=false;m_firstFocusCall=true;m_focusSETIN=undefined;m_hotKeys=[];m_hotKeysPAGE=new Object();m_noProcessingForNextHotKey=false;m_tabElements=new Object();m_tabElementsUndefined=new Object();m_completeCounter=0;m_cscformOccupied=false;m_cscformxmlstack=[];m_beforeFirstReactOnNewModel=true;m_firstModel=true;m_continueUpdateModelListeners=undefined;m_killedItems=0;m_pushedContinueMethod=undefined;m_bufferedMethodName="inittini";m_openedAmodals=[];m_lastStamp=undefined;m_formulas=[];m_FieldsArray=[];m_islogonform=false;m_uiprop=null;m_uipropframe=null;m_currentFocusLine=null;m_currentFocusGrid=null;m_iccInfos=[];if(parent.m_roi_firstusage!=false){m_mozdivs=[];m_headerObjects=[];m_footerObjects=[]}}function dragEnter(b){b.preventDefault();var a=parent.document.querySelector(".previewDragOver");if(a!=null){a.classList.remove("previewDragOver")}if(b.target!=null){b.target.classList.add("previewDragOver")}}function dragLeave(a){a.preventDefault();if(a.target!=null){a.target.classList.remove("previewDragOver")}}function dragEnd(b){b.preventDefault();var a=parent.document.querySelector(".previewDragOver");if(a!=null){a.classList.remove("previewDragOver")}}function addEventListenerIFRAME(b){if(b==null){return}var a=parent.document.getElementById(b);if(a==null){return}var c=(a.contentWindow||a.contentDocument);if(c.document){c=c.document}if(c.addEventListener){c.addEventListener("keydown",suppressBrowserKeysIFRAME,false);c.addEventListener("mousewheel",suppressBrowserKeysIFRAME,false)}}function suppressBrowserKeysIFRAME(b){if(b==null){return}if(b.type=="mousewheel"&&b.shiftKey){return CL().cancelEvent(b)}try{if(b.keyCode>111&&b.keyCode<124){return CL().cancelEvent(b)}if((b.keyCode==87&&b.ctrlKey==true)||(b.keyCode==82&&b.ctrlKey==true)){return CL().cancelEvent(b)}if(b.keyCode==8){return CL().cancelEvent(b)}}catch(a){}}function addIccInfo(b,a,c){var d=new Object();d.name=b;d.baseIndex=a;d.iccString=c;m_iccInfos.push(d)}function repeatIcc(a){a=(-1)*a*(-1);for(var b=0;b<m_iccInfos.length;b++){var d=m_iccInfos[b];var e=d.baseIndex+a;var c=d.iccString.replace(/items\[[0-9]+\]/g,"items["+e+"]");parent.iccExec(d.name,c)}}function initCasaControl(a){for(var b in a){if(b.indexOf("CASA_")>=0){a[b]=undefined}}}function findVisibleValue(a){if(a!=null&&a!=undefined&&a!=""){return a}if(parent.m_visiblevalueifundefined==undefined){return a}return parent.m_visiblevalueifundefined}function CL(){var a=m_parentparent.m_centralLib;return a}function calculatePageOffset(e){var g=0;var a=0;var b=document.documentElement;var c=e.getBoundingClientRect();var f=b.scrollLeft;var d=b.scrollTop;if(m_direction=="rtl"){g=c.right+f}else{g=c.left+f}a=c.top+d;e.CASA_pageoffsetleft=g;e.CASA_pageoffsettop=a}function calculateFrameOffset(f){var c=m_parentparent;var g=0;var e=0;while(true){try{if(c==null){break}if(f=="_top"){break}if(f!=null&&c.name==f){break}g+=c.frameElement.offsetTop;e+=c.frameElement.offsetLeft;var d=c.parent.parent;if(c==d){break}c=d}catch(b){return null}}var a=new Object();a.frameOffsetLeft=e;a.frameOffsetTop=g;return a}function calculateScrollTop(e){var d=e;var b=0;while(true){try{if(d==null){break}b=b+d.scrollTop;var c=d.offsetParent;if(d==c){break}d=c}catch(a){break}}return b}var mm_openCasabacPageAsModalPopup=null;function openCasabacPageAsModalPopup(b,a,c){if(mm_openCasabacPageAsModalPopup==null){mm_openCasabacPageAsModalPopup=CL().C_openCasabacPageAsModalPopup}return mm_openCasabacPageAsModalPopup(b,a,c)}function setPageName(a){m_pageName=a}function reactOnInit(){if(parent.parent.m_centralLib==null){window.location.href="../HTMLBasedGUI/general/aboutBlank.html";return}parent.reactOnInit()}function convertDoubleTildeToUTag(c){if(c==null){return null}if(c.indexOf("~~")<0){return c}var a=[];var d=0;var b=c.indexOf("~~");while(b>=0&&(b+2)<c.length){a.push(c.substring(d,b));a.push("<u>");a.push(c.charAt(b+2));a.push("</u>");d=b+3;b=c.indexOf("~~",d)}a.push(c.substring(d,c.length));return a.join("")}function reactOnResizePAGEBODY(a){doResizePAGEBODY(a);if(this.sizeMozDivs!=undefined){sizeMozDivs()}doResizePAGEBODY(a)}function doResizePAGEBODY(b){var a=parent.innerHeight||parent.document.body.clientHeight;a=a-calculateHeaderHeight()-calculateFooterHeight();if(a<0){a=0}var c=parent.innerWidth||parent.document.body.clientWidth;if(b.CASA_bufferedHeight==a&&b.CASA_bufferedWidth==c){return}b.CASA_bufferedHeight=a;b.CASA_bufferedWidth=c;passPagePixelSize(c,a);b.style.height=C_adjustUnits(a);b.style.width=C_adjustUnits(c)}function passPagePixelSize(a,b){if(b<=0){b=parent.innerHeight||parent.document.body.clientHeight}if(a<=0){a=parent.innerWidth||parent.document.body.clientWidth}setPropertyValue("pagePixelHeight",b);setPropertyValue("pagePixelWidth",a)}function passTimeZoneOffset(){try{var b=new Date();setPropertyValue("timeZoneOffset",(-1)*(b.getTimezoneOffset()))}catch(a){}}function switchToOccupiedPAGE(){m_focusTimeout=99;if(m_doBlockIO){parent.m_blockIO=true}m_doBlockIO=true;if(m_displayOccupied){setDisplayTHISOCCUPIED("")}m_displayOccupied=true;for(var b=0;b<m_switchToOccupiedListeners.length;b++){var c=m_switchToOccupiedListeners[b];try{c.listenermethod(c.param)}catch(a){addLogMessage("ERROR on calling switchToOccupiedListeners "+a);addLogMessage("ERROR on calling switchToOccupiedListeners "+c.listenermethod)}}}m_firstMozillaSwitch=true;function switchToDisplayPAGE(){m_focusTimeout=null;m_pageInactive=false;m_cscformOccupied=false;parent.m_blockIO=false;parent.m_blockIOByFlush=false;parent.CasaPAGE.style.display="";var a=findTHISOCCUPIED(false);if(a!=null){setDisplayTHISOCCUPIED("");setDisplayTHISOCCUPIED("none")}if(m_firstMozillaSwitch==true){if(parent.C.sizeMozDivs!=undefined){parent.C.sizeMozDivs()}m_firstMozillaSwitch=false}if(parent.CasaLOADING&&parent.CasaLOADING.style.display==""){parent.CasaLOADING.style.display="none"}try{parent.parent.bringToFrontSCP(parent.location.href)}catch(b){}}var mm_startDragCL=null;function startDragCL(d,e,a,c,b){if(mm_startDragCL==null){mm_startDragCL=CL().C_startDrag}return mm_startDragCL.call(this,d,e,a,c,b)}var mm_setDragShift=null;function setDragShift(c,b,a){if(mm_setDragShift==null){mm_setDragShift=CL().C_setDragShift}return mm_setDragShift.call(this,c,b,a)}var mm_moveDragCL=null;function moveDragCL(a){if(mm_moveDragCL==null){mm_moveDragCL=CL().C_moveDrag}return mm_moveDragCL.call(this,a)}var mm_checkIfDragProcessIsActiveCL=null;function checkIfDragProcessIsActiveCL(){if(mm_checkIfDragProcessIsActiveCL==null){mm_checkIfDragProcessIsActiveCL=CL().C_checkIfDragProcessIsActive}return mm_checkIfDragProcessIsActiveCL.call(this)}var mm_endDragCL=null;function endDragCL(a){if(mm_endDragCL==null){mm_endDragCL=CL().C_endDrag}return mm_endDragCL.call(this,a)}var m_startDragTime=null;function startDragPAGE(a,b){try{var c=findDRAGDROP();m_startDragTime=(new Date()).getTime();parent.m_dragMode=true;c.innerHTML=a}catch(d){}}function setDragShiftPAGE(b,a){parent.m_dragIconShiftLeft=b;parent.m_dragIconShiftTop=a}var m_colMoveVisTEXTGRID;function moveDragPAGE(b){try{if(b!=null&&b.button!=0){if(checkIO()==false){var e=findTHISOCCUPIED(false);if(e!=null){setDisplayTHISOCCUPIED("");if(m_parentparent.m_fixedOccupiedImage){e.style.left=0;e.style.top=0}else{e.style.left=C_adjustUnits((b.clientX+10));e.style.top=C_adjustUnits((b.clientY+10))}}}else{setDisplayTHISOCCUPIED("none")}}if(checkIfDragProcessIsActiveCL()){moveDragCL(b);return}var c=findDRAGDROP(false);if(c==null){return}if(parent.m_dragMode==false){return}if(m_startDragTime!=null&&(new Date().getTime()-m_startDragTime<250)){return}c.style.display="";if(parent.m_dragType=="RESIZABLE"){var a=parent.m_dragRsizable;c.style.top=C_adjustUnits(a.CASA_posY);c.style.left=C_adjustUnits(b.clientX)}else{if(parent.m_dragType=="COLMOVE"){m_colMoveVisTEXTGRID=true;var a=parent.m_dragRsizable;c.style.top=C_adjustUnits(a.CASA_posY);var g=b.clientX;if(a.CASA_posXMin>g){c.style.left=C_adjustUnits(a.CASA_posXMin)}else{if(a.CASA_posXMax<g){c.style.left=C_adjustUnits(a.CASA_posXMax)}else{c.style.left=C_adjustUnits((g-10))}}}else{if(parent.m_dragType=="VSPLIT"){var a=parent.document.getElementById(parent.m_dragId);c.style.top=C_adjustUnits(a.CASA_posY);var g=b.clientX;if(a.CASA_posXMin>g){c.style.left=C_adjustUnits(a.CASA_posXMin)}else{if(a.CASA_posXMax<g){c.style.left=C_adjustUnits(a.CASA_posXMax)}else{c.style.left=C_adjustUnits(g)}}}else{if(parent.m_dragType=="HSPLIT"){var a=parent.document.getElementById("HSPLIT"+parent.m_dragId);c.style.left=C_adjustUnits(a.CASA_posX);var f=b.clientY;if(a.CASA_posYMin>f-3){c.style.top=C_adjustUnits(a.CASA_posYMin)}else{if(a.CASA_posYMax<f){c.style.top=C_adjustUnits(a.CASA_posYMax)}else{c.style.top=C_adjustUnits(f)}}}else{if(parent.m_dragType=="CHARTAREA"){c.style.left=C_adjustUnits((b.clientX+parent.m_dragIconShiftLeft));c.style.top=C_adjustUnits((b.clientY+parent.m_dragIconShiftTop))}else{c.style.left=C_adjustUnits((b.clientX+10));c.style.top=C_adjustUnits((b.clientY+10))}}}}}dsc();return false}catch(d){}}function dsc(){if(this.parent.document.selection){this.parent.document.selection.empty()}else{var a=this.parent.window.getSelection();if(a&&a.rangeCount>0&&a.getRangeAt(0).getClientRects().length>0){this.parent.window.getSelection().removeAllRanges()}}}var m_dragEndCallback;var m_draggingControl;function endDragPAGE(a){if(checkIfDragProcessIsActiveCL()){endDragCL(a);return}try{if(m_dragEndCallback!=null){m_dragEndCallback(m_draggingControl);m_dragEndCallback=null}var b=findDRAGDROP(false);if(b==null){return}m_startDragTime=null;m_colMoveVisTEXTGRID=undefined;parent.document.body.style.cursor="";b.style.display="none";parent.m_dragMode=false;parent.m_dragId=null;parent.m_dropMethod=null;if(parent.m_dragType=="VSPLIT"){reactOnMouseUpVSPLIT(b.CASA_splitCC,a)}else{if(parent.m_dragType=="HSPLIT"){reactOnMouseUpHSPLIT(b.CASA_splitCC,a)}}parent.m_dragType=null;return true}catch(c){}}function registerValidationError(a){a.CASA_cscValidationErrorStamp="FIELD";a.CASA_hasValidationError=true;m_validationErrors.push(a)}function registerValidationErrorForDateInput(a){a.CASA_cscValidationErrorStamp="DATEINPUT";m_validationErrors.push(a)}function unregisterValidationError(c){var b=[];for(var a=0;a<m_validationErrors.length;a++){if(m_validationErrors[a]!=c){b.push(m_validationErrors[a])}}m_validationErrors=b}function checkAllValidations(){checkAllValidations(true)}function checkAllValidations(u){if(m_resetValiddationErrorsAndFlush==true){resetValidationErrors();m_resetValiddationErrorsAndFlush=false;return true}for(var j=0;j<m_innerFrames.length;j++){try{var e=m_innerFrames[j].WORKAREA.csciframe.checkAllValidations();if(e==false){return false}}catch(m){}}if(m_FieldsArray.length>0&&m_validationRules.length>0){for(var p=0;p<m_FieldsArray.length;p++){var l=m_FieldsArray[p];for(var t=0;t<m_validationRules.length;t++){var r=m_validationRules[t];var c=r.split(";");c=self.rulesStringtoFieldValueProp(c[0]);if(l.CASA_valueprop==c){var g=r.split("_");if(g[g.length-1]=="onsubmit"){l.CASA_checkOnSubmit=true;var n=l.value;if(l.CASA_datatype=="float"){n=convertDisplayStringIntoFLOAT(n)}self.checkValidationRules(l,g,n)}}}}}if(m_validationErrors.length==0){return true}var d="";for(var s=0;s<m_validationErrors.length;s++){if(m_validationErrors[s].CASA_valErrors!=null){var b=m_validationErrors[s].CASA_valErrors;for(var q=0;q<b.length;q++){if(d.search(b[q])<0){d+=b[q]+"\n\n"}}m_validationErrors[s].lastTitle=m_validationErrors[s].title;m_validationErrors[s].title=d;self.decorateInputFieldOnError(m_validationErrors[s]);m_validationErrors[s].CASA_valErrors=[]}}try{m_validationErrors[m_validationErrors.length-1].focus()}catch(a){}d=d.substring(0,d.lastIndexOf("\n"));var f=d;d=replaceLiteralWithAddTextTRANSLATION(m_language,"labelNoValidInput",d,self);if(d==null||d==""||u==false){d=replaceLiteralTRANSLATION(m_language,"labelNoValidPage")}if(getPropertyValue("cISAddons.cisA1")!="false"){return false}else{if(u==true&&confirm(d)){resetValidationErrors();return true}if(u==false){var h=d.lastIndexOf("\n");if(h>0){d=d.substring(0,h)}alert(d+"\n\n"+f);m_validationErrors=[]}}if(window.location.href.indexOf("ZZZZZZZZGenerated")>0){return true}return false}function isValueHelpOpen(){var a=findMPADIV();return((a!=null)&&(a.style.display!="none"))}function isContextMenuOpen(){var a=findTHISCONTEXTMENU(false);return((a!=null)&&(a.style.display!="none"))}function resetValidationErrors(){for(var a=0;a<m_validationErrors.length;a++){var c=m_validationErrors[a];if(c.CASA_cscValidationErrorStamp=="DATEINPUT"){resetValidationErrorDI(c);if(c.lastValue!=undefined){c.value=c.lastValue}}else{resetValidationErrorFIELD(c);if(c.lastValue!=undefined){c.value=c.lastValue}}}m_validationErrors=[];var b=findMPADIV();if(b!=null){b.style.display="none"}}function addLogMessage(b){vDate=new Date();m_logStrings[m_logIndex]=b;m_logDates[m_logIndex]=vDate;m_logIndex++;if(m_logIndex>300){m_logIndex=0}try{CL().m_lastLogString=b+" in "+parent.location.href;CL().m_lastLogDate=vDate}catch(a){}if(m_consolelog==undefined){m_consolelog=getPropertyValue("cISAddons.jsconsolelog")}if(m_consolelog==true||m_consolelog=="true"){console.log(vDate.getMinutes()+"/"+vDate.getSeconds()+"/"+vDate.getMilliseconds()+" ==> "+m_modelName+" ==> "+b)}}function convertCasabacURL(a){if(a==null){return null}if(a.charAt(0)=="/"){return m_parentparent.m_currentWebApp+a}return a}function isFirefox(){if(m_isFirefox==undefined){m_isFirefox=/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent);m_firefoxVersion=new Number(RegExp.$1)}return m_isFirefox}function getFirefoxVersion(){if(isFirefox()){return m_firefoxVersion}return -1}function isSafari(){if(m_isSafari==undefined){m_isSafari=navigator.userAgent.toLowerCase().indexOf("safari")!=-1}return m_isSafari}function findSrcElement(a){if(a==null){return null}return a.target}function handleLastInput(a){a.blur();try{a.focus()}catch(b){}}function avoidNextSynchronizationDrillDown(){m_synchronizeAvoidDrillDown=true}function addInnerFrame(a){m_innerFrames[m_innerFrames.length]=a}function synchronizeAndContinue(a){synchronizePageAndInnerPagesAndContinue(a)}function synchronizePageAndInnerPagesAndContinue(a){m_continueMethod=a;m_innerFramesIndex=m_innerFrames.length-1;m_synchronizePage=true;synchronizeAndContinueWithNextIndex()}function synchronizeInnerPagesAndContinue(b){m_continueMethod=b;if(m_synchronizeAvoidDrillDown==false){m_innerFramesIndex=m_innerFrames.length-1}else{m_innerFramesIndex=-1;m_synchronizeAvoidDrillDown=false}m_synchronizePage=false;try{synchronizeAndContinueWithNextIndex()}catch(a){}}function synchronizeAndContinueWithNextIndex(){if(m_innerFrames!=null&&m_innerFramesIndex>=0&&m_innerFramesIndex<m_innerFrames.length){var c=m_innerFrames[m_innerFramesIndex];m_innerFramesIndex--;try{if(c!=null&&c.WORKAREA!=null&&c.m_isCasabacMFPAGE!=true&&c.WORKAREA.csciframe!=null){addLogMessage("synchronizing inner frame "+(m_innerFramesIndex+1));c.WORKAREA.m_blockIOByFlush=true;if(m_resetValiddationErrorsAndFlush==true){c.WORKAREA.csciframe.m_resetValiddationErrorsAndFlush=true}c.WORKAREA.csciframe.synchronizePageAndInnerPagesAndContinue(synchronizeAndContinueWithNextIndex)}else{if(c!=null&&c.WORKAREA!=null&&c.WORKAREA.m_isCasabacMFPAGE==true){addLogMessage("synchronizing inner frame "+(m_innerFramesIndex+1)+" - this is a MFPAGE");m_innerMFFrames=c.WORKAREA.getCasabacFrames();m_innerMFFramesIndex=m_innerMFFrames.length;synchronizeNextMFFrame()}else{synchronizeAndContinueWithNextIndex()}}}catch(a){synchronizeAndContinueWithNextIndex()}}else{if(m_synchronizePage==true){var e=false;if(m_properties==null){var g=m_continueMethod;m_continueMethod=null;if(g!=null){g()}return}invokeDCListeners();var f=m_properties.length;for(var b=0;b<f;b++){if(m_properties[b].isChanged==true){var d=m_properties[b].name.indexOf("rowCount");if(d>0&&d==m_properties[b].name.length-8){}else{if(!m_internalProperties[m_properties[b].name]==true){e=true;break}}}}if(e==true){setPropertyValue("cISubPageRefresh","true");submitModel("submit")}else{var g=m_continueMethod;m_continueMethod=null;if(g!=null){g()}}}else{var g=m_continueMethod;m_continueMethod=null;if(g!=null){g()}}}}function synchronizeNextMFFrame(){m_innerMFFramesIndex--;if(m_innerMFFramesIndex<0){synchronizeAndContinueWithNextIndex();return}addLogMessage("synchronizing inner MF frame "+m_innerMFFramesIndex);try{m_innerMFFrames[m_innerMFFramesIndex].WORKAREA.csciframe.synchronizePageAndInnerPagesAndContinue(synchronizeNextMFFrame)}catch(a){addLogMessage("Exception caught: csc.synchronizeNextMFFrame:"+a);synchronizeNextMFFrame()}}function checkIO(){if(m_modelName==undefined||m_modelName==null){return false}if(m_modelName.indexOf("natlegacy")>0){return checkIOTrue()}if(parent.m_blockIOByFlush==true){return checkIOTrue()}if(parent.m_blockIO==true){return checkIOFalse2()}if(CL().checkMozIO(m_parentparent,false)==false){return checkIOFalse()}return checkIOTrue()}function checkIOForNoSubmits(){if(parent.m_blockIO==true&&parent.m_blockIOByFlush==true){var b=new Date();if(m_lastServerFetch!=null){var a=b.getTime()-m_lastServerFetch.getTime();if(a>250){return checkIOFalse2()}}}return checkIO()}function checkIOFalse(a){return false}function checkIOFalse2(){m_checkIOFalseCounter++;if(m_checkIOFalseCounter>=5){resetCheckIO()}return false}function checkIOTrue(){m_checkIOFalseCounter=0;return true}function resetCheckIO(){parent.m_blockIOByFlush=false;parent.m_blockIO=false;m_checkIOFalseCounter=0}function addFocusable(b,a){if(parent.m_roi_firstusage==false){return}m_focusables.push(b);m_focusablesCat.push(a)}var m_currentFocusLine;var m_currentFocusGrid;function startFocusGrid(g){try{var d=m_currentFocusGrid[0];var c=m_currentFocusGrid[1];var f=d.length-c.length;var b=[];for(var e=0;e<c.length;e++){b.push(d[e+f])}m_currentFocusGrid[0]=b;g.CASA_fg=m_currentFocusGrid;m_currentFocusGrid=null}catch(a){}}function startFocusLine(){if(m_currentFocusGrid==null){m_currentFocusGrid=[]}m_currentFocusGrid.push(m_currentFocusLine);m_currentFocusLine=null}function startFocusCell(a){if(m_currentFocusLine==null){m_currentFocusLine=[]}m_currentFocusLine.push(a)}function buildLineCells(e){var b=[];for(var d=0;d<e.length;d++){var a=e[d];var f=a.CASA_fgsubs;if(f==null){b.push(a)}else{for(var c=0;c<f.length;c++){b.push(f[c])}}}return b}function findFocusControl(g,f,a){var b=g.CASA_fg;if(b==null){return -1}if(b.length==0){return -1}for(var h=0;h<b.length;h++){var d=b[h];d=buildLineCells(d);for(var c=0;c<d.length;c++){if(d[c]==f){try{var k=h+a;if(a==1000){k=0}if(a==1001){k=b.length-1}var e=b[k];e=buildLineCells(e);var j=e[c];return j}catch(l){return 0}}}}return -1}function findFirstFocusControl(c){var a=c.CASA_fg;if(a==null){return null}if(a.length==0){return null}var b=buildLineCells(a[0]);return b[0]}function findLastFocusControl(c){var a=c.CASA_fg;if(a==null){return null}if(a.length==0){return null}var b=buildLineCells(a[a.length-1]);return b[b.length-1]}function findIndexOfLastTabableFocusLine(f){var d=f.CASA_fg;if(d==null){return null}if(d.length==0){return null}var b=-1;for(var c=0;c<d.length;c++){var e=d[c];e=buildLineCells(e);for(var a=0;a<e.length;a++){if(e[a].tabIndex>=0&&e[a].readOnly!=true&&e[a].disabled!=true){b=c;break}}}return b}function findFocusControlXY(g,e){var d=g.CASA_fg;if(d==null){return null}if(d.length==0){return null}for(var c=0;c<d.length;c++){var f=d[c];f=buildLineCells(f);for(var a=0;a<f.length;a++){if(f[a]==e){var b=new Object();b.X=a;b.Y=c;return b}}}return null}function findFocusControlForXY(e,d,b){var a=e.CASA_fg;if(a==null){return null}if(a.length==0){return null}var c=a[b];c=buildLineCells(c);return c[d]}function repointFocusInScreenExecute(){m_firstFocusCall=true;pointFocusInternally(false)}function repointFocus(){m_firstFocusCall=true;pointFocusInternally(true)}function pointFocus(){if(m_focusTimeout==null){pointFocusInternally(true)}m_focusTimeout=null}function isSuppressFocus(){var a=getPropertyValue("cISAddons.suppressFocusManagement");return((a==true||a=="true"))}function pointFocusInternally(a){addLogMessage("FOCUS - pointFocus started");var c=getPropertyValue("cISAddons.suppressFocusManagement");if(a&&(c==true||c=="true")){addLogMessage("FOCUS - Adapter suppressed focus management");return}if(m_suppressFocusManagementOncePAGE==true){m_suppressFocusManagementOncePAGE=null;addLogMessage("FOCUS - Flas suppressFocusManagementOncePAGE suppressed focus management");return}var b=false;try{addLogMessage("pointFocus - pointFocusToFirstRequestor");b=pointFocusToFirstRequestor()}catch(d){}if(b==true){m_firstFocusCall=false;return}if(b==false&&m_firstFocusCall==false){try{if(pointFocusAfterIP){pointFocusAfterIP()}}catch(e){}return}m_firstFocusCall=false;addLogMessage("FOCUS - No explicit focus set by application, normal focus selection started");pointFocusForFreshPage()}function pointFocusForFreshPage(){var b=getPropertyValue("cISAddons.suppressFocusManagement");if(b==true||b=="true"){addLogMessage("FOCUS - Adapter suppressed focus management");return}for(var c=0;c<2;c++){if(c==1){vfirstcat=false}for(var d=0;d<m_focusables.length;d++){if(c==0&&m_focusablesCat[d]!=true){continue}var g=m_focusables[d];if(g.disabled!=true&&g.tabIndex>=0){try{addLogMessage("FOCUS - Setting focus in focusable "+d+" ==> "+g.tagName);g.focus();if(g.offsetWidth==0){throw ("set focus not succeessfull")}if(g.CASA_alwaysflush!="true"){if(parent.m_flushMethodPAGE==null){parent.focus()}g.focus()}return}catch(a){addLogMessage("FOCUS - Execption occurred in focusable "+d+": "+a)}}}}try{parent.gebid("THISBODY").focus()}catch(f){}}function pointFocusToFirstRequestor(){if(m_focusRequestors==null){return false}addLogMessage("FOCUS - pointFocusToFirstRequestor started, number of focus requestors = "+m_focusRequestors.length);if(m_focusRequestors.length==1){try{var e=m_focusRequestors[0];if(e.setActiveOnly!=true){e.control.focus();if(e.control.CASA_alwaysflush!="true"){if(parent.m_flushMethodPAGE==null){parent.focus()}e.control.focus()}try{e.control.select()}catch(c){}}else{if((e.control.type=="textarea")||(e.control.type=="text")){setSelectionRange(e.control,0,0)}}try{if(e.control.setActive){e.control.setActive()}}catch(c){}m_focusRequestors=null;addLogMessage("FOCUS - Did set focus to first requestor");return true}catch(b){m_focusRequestors=null;addLogMessage("FOCUS - Exception occurred "+b);return false}}var d=m_focusRequestors.length;for(var a=0;a<d;a++){try{var e=m_focusRequestors[a];if(e.control.focus!=null){if(e.setActiveOnly!=true){e.control.focus();if(e.control.offsetWidth==0){throw ("set focus not succeessfull")}if(e.control.CASA_alwaysflush!="true"){if(parent.m_flushMethodPAGE==null){parent.focus()}e.control.focus()}try{e.control.select()}catch(c){}}else{if((e.control.type=="textarea")||(e.control.type=="text")){setSelectionRange(e.control,0,0)}}try{if(e.control.setActive){e.control.setActive()}}catch(c){}m_focusRequestors=null;addLogMessage("FOCUS - Did set focus to requestor "+a);return true}else{addLogMessage("FOCUS - Focus requestor does not support focus() "+a)}}catch(b){addLogMessage("FOCUS - Could not set focus for requestor "+a+": "+b)}}m_focusRequestors=null;return false}function setSelectionRange(b,c,d){if(b.setSelectionRange){b.focus();b.setSelectionRange(c,d)}else{if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",d);a.moveStart("character",c);a.select()}}}function addFocusRequestorInternal(c,b){if(m_newModelForAddFocusRequestor){clearFocusRequestor();m_newModelForAddFocusRequestor=false}if(m_focusRequestors==null){m_focusRequestors=[]}var a=new Object();a.control=c;a.setActiveOnly=b;m_focusRequestors[m_focusRequestors.length]=a}function addFocusRequestor(a){addFocusRequestorInternal(a,false)}function clearFocusRequestor(){m_focusRequestors=null}function addActiveElementRequestor(a){addFocusRequestorInternal(a,true)}function applyCasaTabIndex(b,a){applyCasaTabIndexFor(b,b,a)}function disableCasaTabIndexFor(c,a,b){applyCasaTabIndexFor(c,a,b);a.tabIndex=-1}function applyCasaTabIndexFor(c,a,b){if(c.CASA_cti==null){c.CASA_cti=1}a.tabIndex=c.CASA_cti;if(c.CASA_tabindex==null){c.CASA_tabindex="-"}if(m_tabElements.LOGCOUNT==null){m_tabElements.LOGCOUNT=0}if(m_tabElements.LOGCOUNT>100){return}m_tabElements.LOGCOUNT+=1;a.CASA_tabIndexInfo=b;a.CASA_tabindex=c.CASA_tabindex;a.CASA_cti=c.CASA_cti;if(c.CASA_cti>1){m_tabElements[c.CASA_cti]=a}else{m_tabElementsUndefined[a.id]=a}}function addAreaTabIndexInfo(e,a,c,b){var d=new Object();d.CASA_cti=c;d.CASA_tabindex=b;d.CASA_valueprop=a;d.id=e;applyCasaTabIndex(d,"ROWAREA")}function addHotKey(d,e,a,c,f){var b=new Object();b.keyCode=d;b.ctrlKey=e;b.shiftKey=a;b.altKey=c;b.method=f;m_hotKeys.push(b)}function addControlBasedHotKey(a,e,b,c){var d=new Object();d.ccId=a;d.keyCode=e;d.ctrlKey=m_hotKeyCode.indexOf("17")>=0;d.shiftKey=m_hotKeyCode.indexOf("16")>=0;d.altKey=m_hotKeyCode.indexOf("18")>=0;d.callbackMethod=b;d.callbackParam=c;m_hotKeysWithCallback.push(d)}function addHotKeyWithControlScope(e,f,b,d,g,a){var c=new Object();c.keyCode=e;c.ctrlKey=f;c.shiftKey=b;c.altKey=d;c.method=g;c.controlInfo=a;m_hotKeysWithControlScope.push(c)}function removeHotKeys(a){v=[];for(var b=0;b<m_hotKeysWithCallback.length;b++){if(m_hotKeysWithCallback[b].ccId!=a){v.push(m_hotKeysWithCallback[b])}}m_hotKeysWithCallback=v}var mm_processHotKeys=null;function processHotKeys(a){if(mm_processHotKeys==null){mm_processHotKeys=CL().C_processHotKeys}return mm_processHotKeys.call(this,a)}var mm_changeReturnToTab=null;function changeReturnToTab(a){if(mm_changeReturnToTab==null){mm_changeReturnToTab=CL().C_changeReturnToTab}return mm_changeReturnToTab.call(this,a)}var mm_focusNextInput=null;function focusNextInput(a){if(mm_focusNextInput==null){mm_focusNextInput=CL().C_focusNextInput}return mm_focusNextInput.call(this,a)}var mm_focusNextTabInput=null;function focusNextTabInput(a){if(mm_focusNextTabInput==null){mm_focusNextTabInput=CL().C_focusNextTabInput}return mm_focusNextTabInput.call(this,a)}function avoidProcessingForNextHotKey(){m_noProcessingForNextHotKey=true}function findHotkeyKeycode(b){if(b==null){return null}var a=b.indexOf("~~");if(a>=0&&a!=b.length-2){var d=b.charCodeAt(b.indexOf("~~")+2);if(d>=97){d-=32}return d}return null}function decodeCSVStringEMPTY(b){if(b==""){var a=[];a[0]="";return a}else{return decodeCSVString(b)}}var s_bufferCSV=[];function decodeCSVStringUsingBuffer(b){var a=s_bufferCSV[b];if(a!=null){return a}a=decodeCSVString(b);s_bufferCSV[b]=a;return a}function decodeCSVString(a){return decodeString(a,";")}function decodeString(c,f){var a=[];if((c==null)||(c=="")){return a}var d=0;var b=c.indexOf(f);var e="";while(b>=0){if((b==0)||(c.charAt(b-1)!="\\")){e=e+c.substring(d,b);a[a.length]=e;e=""}else{e=e+c.substring(d,b-1)+f}d=b+1;b=c.indexOf(f,b+1)}a[a.length]=e+c.substring(d,c.length);return a}function addClickAwayObject(a){m_clickAwayObjects[m_clickAwayObjects.length]=a}function addClickAwayMethod(a){m_clickAwayMethods.push(a)}function avoidClickAway(){m_avoidClickAway=true}function clickAway(){if(m_avoidClickAway==false){for(var a=0;a<m_clickAwayObjects.length;a++){if(m_clickAwayObjects[a].CASA_callbackcc!=null&&m_clickAwayObjects[a].CASA_callbackcc.CASA_hasValidationError==true){continue}m_clickAwayObjects[a].style.display="none"}for(var a=0;a<m_clickAwayMethods.length;a++){m_clickAwayMethods[a]()}try{if(CL().m_MPADIVOwnerFrame!=null&&CL().m_MPADIVOwnerFrame!=this){CL().m_MPADIVOwnerFrame.clickAway()}}catch(b){}}m_avoidClickAway=false}function addHeaderObject(a){if(parent.m_roi_firstusage==false){return}m_headerObjects.push(a)}function addFooterObject(a){if(parent.m_roi_firstusage==false){return}m_footerObjects.push(a)}function calculateHeaderHeight(){var a=0;for(var b=0;b<m_headerObjects.length;b++){a+=m_headerObjects[b].offsetHeight}return a}function calculateFooterHeight(){var a=0;for(var b=0;b<m_footerObjects.length;b++){a+=m_footerObjects[b].offsetHeight}return a}function addMLValue(a){if(parent.m_roi_firstusage==false){return}if(a!=null){m_MLValues.push(a)}}function addMLTextNode(a){if(parent.m_roi_firstusage==false){return}if(a!=null){m_MLTextNodes.push(a)}}function addMLSpan(a){if(parent.m_roi_firstusage==false){return}if(a!=null){m_MLSpans.push(a)}}function addMLOption(a){if(parent.m_roi_firstusage==false){return}if(a!=null){m_MLOptions.push(a)}}function addMLImage(a){if(parent.m_roi_firstusage==false){return}if(a!=null){m_MLImages.push(a)}}function addMLButton(a,b,c){if(parent.m_roi_firstusage==false){return}if(a!=null){o=new Object();o.input=a;o.callbackMethod=b;o.callbackParam=c;m_MLButtons.push(o)}}function addMLTab(c,a,b){if(parent.m_roi_firstusage==false){return}if(c!=null){o=new Object();o.span=c;o.callbackMethod=a;o.callbackParam=b;m_MLTabs.push(o)}}function doReplaceValue(a){if(a.charAt(0)!="$"){return null}var b=getPropertyValue(a);if(b==null||b==""){return null}return convertDoubleTildeToUTag(b)}function replaceTextIds(){var a=0;var l=m_MLValues;a=l.length;for(var b=0;b<a;b++){var c=null;if(l[b].value==undefined){c=doReplaceValue(l[b].textContent);if(c!=null){l[b].innerHTML=l[b].innerHTML.replace(l[b].textContent,c)}}else{c=doReplaceValue(l[b].value);if(c!=null){l[b].value=c}}}var e=m_MLSpans;a=e.length;for(var b=0;b<a;b++){if(e[b].id.charAt(0)=="$"){var r=getPropertyValue(e[b].innerHTML);if(r==null){continue}if(r==""){continue}e[b].innerHTML=convertDoubleTildeToUTag(r)}}var d=m_MLTextNodes;a=d.length;for(var b=0;b<a;b++){var s=doReplaceValue(d[b].nodeValue);if(s!=null){d[b].nodeValue=s}}var h=m_MLTabs;a=h.length;for(var b=0;b<a;b++){if(h[b].span.id.charAt(0)=="$"){var r=getPropertyValue(h[b].span.innerHTML);if(r==null){continue}if(r==""){continue}var n=findHotkeyKeycode(r);if(n!=null){addControlBasedHotKey(h[b].span.id,n,h[b].callbackMethod,h[b].callbackParam)}h[b].span.innerHTML=convertDoubleTildeToUTag(r)}}buttons=m_MLButtons;a=buttons.length;for(var b=0;b<a;b++){var q=buttons[b].input.innerHTML;var k=q.indexOf("$1$");var j=q.indexOf("$2$");if(k>=0&&j>k){var g=q.substring(0,k);var m=q.substring(k+3,j);var r=getPropertyValue("$"+m);if(r==null){continue}if(r==""){continue}var n=findHotkeyKeycode(r);if(n!=null){addControlBasedHotKey(buttons[b].input.id,n,buttons[b].callbackMethod,buttons[b].callbackParam)}if(r!=null){g+=convertDoubleTildeToUTag(r)}g+=q.substring(j+3,q.length);buttons[b].input.innerHTML=g}}var p=m_MLOptions;a=p.length;for(var b=0;b<a;b++){if(p[b].text!=null&&p[b].text.charAt(0)=="$"){var r=getPropertyValue(p[b].text);if(r==null){continue}if(r==""){continue}p[b].text=r}}var f=m_MLImages;a=f.length;for(var b=0;b<a;b++){if(f[b].title!=null&&f[b].title.charAt(0)=="$"){var r=getPropertyValue(f[b].title);if(r==null){continue}if(r==""){continue}f[b].title=r}}}var mm_refreshOccuranceOfAdapter=null;function refreshOccuranceOfAdapter(a){if(mm_refreshOccuranceOfAdapter==null){mm_refreshOccuranceOfAdapter=CL().C_refreshOccuranceOfAdapter}return mm_refreshOccuranceOfAdapter(a,this)}function enqueueRefreshOccuranceOfAdapter(a){try{CL().m_refreshOccuranceQueue.push(a)}catch(b){}}function flushRefreshOccuranceQueue(){try{var b=CL().m_refreshOccuranceQueue;for(var a=0;a<b.length;a++){refreshOccuranceOfAdapter(b[a])}CL().m_refreshOccuranceQueue=[]}catch(c){}}var mm_repointFocusInScreen=null;function repointFocusInScreen(a){if(mm_repointFocusInScreen==null){mm_repointFocusInScreen=CL().C_repointFocusInScreen}return mm_repointFocusInScreen(a)}var mm_setURLInTarget=null;function setURLInTarget(a,b){if(mm_setURLInTarget==null){mm_setURLInTarget=CL().C_setURLInTarget}return mm_setURLInTarget.call(this,a,b)}var mm_callMethodInTarget=null;function callMethodInTarget(a,b){if(mm_callMethodInTarget==null){mm_callMethodInTarget=CL().C_callMethodInTarget}return mm_callMethodInTarget.call(this,a,b)}var mm_findParameterInQuery=null;function findParameterInQuery(a,b){if(mm_findParameterInQuery==null){mm_findParameterInQuery=CL().C_findParameterInQuery}return mm_findParameterInQuery(a,b)}var mm_sizeTarget=null;function sizeTarget(b,a){if(mm_sizeTarget==null){mm_sizeTarget=CL().C_sizeTarget}return mm_sizeTarget(b,a)}function initAlreadyLoadedPage(){}function initWithModelIdAndSessionIdAndProcessId(e,g,c,a){addLogMessage("initWithModelId... - started");m_pageInactive=false;if(parent.m_roi_firstusage!=false){for(var d=0;d<m_modelListenersLast.length;d++){m_modelListeners.push(m_modelListenersLast[d])}m_modelListenersLast=[]}if(parent.m_roi_firstusage){var h=m_parentparent.m_cisversion;for(var d=0;d<m_jsversions.length;d++){var b=m_jsversions[d];if(b!=h){alert("VERSIONING PROBLEM\n\nThe file "+m_jsfiles[d]+" is version "+b+". The server's version is "+h+".\nLayout definitions need to be regenerated.")}}}passPagePixelSize(-1,-1);passTimeZoneOffset();m_modelName=e;m_sessionId=c;m_processId=a;m_modelId=g;vPageInitParam=m_parentparent.pageInitParam;if(vPageInitParam!=null){setPropertyValue("pageInitParam",vPageInitParam);cscformiframe.document.getElementById("PAGEINITPARAM").value=vPageInitParam;m_parentparent.pageInitParam=null}if(m_parentparent.CasaSessionSTYLESHEET!=null&&m_parentparent.CasaSessionSTYLESHEET!=""){setPropertyValue("style",m_parentparent.CasaSessionSTYLESHEET)}try{if(m_parentparent.m_previousWORKAREA==null||m_parentparent.m_previousWORKAREA.m_withownborder!=parent.m_withownborder){setWithOwnBorder(parent.m_withownborder)}}catch(j){}var f=buildFirstTag("i","")+buildXMLFromModel("initWithModelIdAndSessionIdAndProcessId");if(m_doLog){addLogMessage("initWithModelId... - submitting")}if(m_parentparent.isPopupPage==true){CL().C_registerPopupPage(m_parentparent,true);try{m_parentparent.focus()}catch(j){}}fetchModelFromServer(f);m_parentparent.pageInitParam=null}function setWithOwnBorder(a){var c="visible";if(a=="false"){c="hidden"}var b=m_parentparent.document.getElementById("SCPRowHeader");if(b==null){return}b.style.visibility=c;b=m_parentparent.document.getElementById("SCPCellIFrameLeft");b.style.visibility=c;b=m_parentparent.document.getElementById("SCPCellIFrameRight");b.style.visibility=c;b=m_parentparent.document.getElementById("SCPRowFooter");b.style.visibility=c}function findPseudoURL(){var c=parent.location.href;var b=c.lastIndexOf("/");var a=c.substring(b,c.length);c=c.substring(0,b);b=c.lastIndexOf("/");a=c.substring(b,c.length)+a;return a}var m_lastServerFetch;function fetchModelFromServer(e){m_bufferedxml=null;var d=null;try{if(CL()!=null){d=CL().buildBufferAccesKey(m_sessionId,m_processId,m_modelId,m_modelName,findPseudoURL());m_bufferedxml=CL().findBufferedAdapterStream(d)}}catch(b){m_bufferedxml=null}if(m_cscformOccupied==true){if(m_doLog){addLogMessage("fetchModelFromServer - Try again in 20 ms")}setTimeout('fetchModelFromServer("'+e+'")',20);return}m_lastServerFetch=new Date();if(m_bufferedxml==null){if(m_doLog){addLogMessage("fetchModelFromServer - Model is fetched from server")}m_cscformOccupied=true;var a=true;if((parent.m_usexmlhttprequest=="true")||(parent.m_usexmlhttprequest=="mozilla")||(m_parentparent.m_usexmlhttprequest=="true")||(m_parentparent.m_usexmlhttprequest=="mozilla")){a=false}if(a==true){cscformiframe.document.getElementById("SESSIONID").value=m_sessionId;cscformiframe.document.getElementById("XML").value=e;try{cscformiframe.submitPost()}catch(c){m_cscformOccupied=false;return}if(m_doLog){addLogMessage("fetchModelFromServer - Submit executed")}}else{executeXMLHTTTPPost(e)}}else{if(m_doLog){addLogMessage("fetchModelFromServer - Model is available in central library")}CL().clearBufferedAdapterStream(d);reactOnNewModel(true)}}function createXMLHttpRequest(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new XMLHttpRequest()}catch(a){}alert("XMLHttpRequest not supported");return null}function continueInit(a,d,c,b){setTimeout("initWithModelIdAndSessionIdAndProcessId('"+a+"','"+d+"','"+c+"','"+b+"')",30)}function doMozResize(a){if(m_doLog){addLogMessage("doMozResize - calling reactOnResize()")}parent.reactOnResize()}function reactOnNewModel(ab,W){m_callcounter++;CL();if(CL()==null){return}if(ab==null||ab==false){if(m_processCasabacSynchronizeIfNecessary!=true&&m_processInvokeMethodInModel==true){if(CL()!=null&&m_suppressClearAdapterStream!=true){CL().clearBufferedAdapterStreams(parent.location.href+" in reactOnNewModel")}}}m_newModelForAddFocusRequestor=true;m_processInvokeMethodInModel=false;m_beforeFirstReactOnNewModel=false;m_bufferNeedsRefresh=false;m_resetValiddationErrorsAndFlush=false;if(m_doLog){addLogMessage("reactOnNewModel - started")}var O=new Date();var aa=true;var q=null;if(m_continueMethod!=null){try{var S=m_continueMethod;m_continueMethod=null;S()}catch(L){}}if(W==null){var w=cscformiframe.document.getElementById("ERRORMESSAGE");if(w!=null){q=w.value}}else{q=W.error}if(q!=null&&q!=""){if(m_doLog){addLogMessage("reactOnNewModel - error message was passed from server")}if((q.indexOf("(1)")>=0&&q.indexOf("(2)")>=0&&q.indexOf("(3)")>=0)||(q.indexOf("Session was already removed")>=0)){window.top.location.href="../servlet/StartMessagePage?TYPE=SESSIONTIMEOUT";status="";return}else{if(q.indexOf("ProcessNotAvailableError")>=0){try{addLogMessage("reactOnNewModel - Suppressed ProcessNotAvailableError");switchToDisplayPAGE()}catch(L){}status="";return}else{if(q.indexOf("MAXIMUM NUMBER OF PARALLEL SESSIONS WAS REACHED.")>=0){parent.location.href="../HTMLBasedGUI/general/toomanysessions.html";alert("Number of parallel sessions is reached.");return}else{alert("ERROR IN APPLICATION:\n\n"+q);switchToDisplayPAGE();status="";return}}}}var e=cscformiframe.document.getElementById("STAMP").value;if(m_lastStamp!=undefined&&m_lastStamp!="INIT"&&e!=undefined&&e!="INIT"){var p=m_lastStamp*(-1)*(-1);var l=e*(-1)*(-1);if(p>l){if(getPropertyValue("cISAddons.reloadpageonbackbutton")=="true"){alert("Warning - Your session is no longer synchronized with the server. This is the result of one of the following\n\n(1) Most Likely Cause - You have used your browsers back button - which is not permitted in order to keep the application session consistent.\n(2) Your Server has been restarted - please contact your System Administrator for more information.\n(3) There is a error in your server configuration - please contact your System Administrator if this message persists.\n\nAfter pressing 'Ok' your session will be synchronized with the server.");parentLocationReload()}else{window.top.location.replace("../servlet/StartMessagePage?TYPE=BACKBUTTONPRESSED")}status="";return}}m_lastStamp=e;try{if(unloadINTPOPUP){unloadINTPOPUP()}}catch(U){}var F=null;if(W!=null){F=W.xml;if(F.indexOf(m_cre1)>=0){F=F.replace(m_re1,"\b")}if(F.indexOf(m_cre2)>=0){F=F.replace(m_re2,"\t")}if(F.indexOf(m_cre3)>=0){F=F.replace(m_re3,"\n")}if(F.indexOf(m_cre4)>=0){F=F.replace(m_re4,"\f")}if(F.indexOf(m_cre5)>=0){F=F.replace(m_re5,"\r")}if(F.indexOf(m_cre6)>=0){F=F.replace(m_re6,"&")}if(F.indexOf(m_cre35)>=0){F=F.replace(m_re35,"<")}if(F.indexOf(m_cre36)>=0){F=F.replace(m_re36,">")}if(m_doLog){addLogMessage("reactOnNewModel - convert special characters - end")}}else{if(ab==null||ab==false){if(m_doLog){addLogMessage("reactOnNewModel - convert special characters - start")}F=cscformiframe.document.getElementById("XML").value;if(F.indexOf(m_cre1)>=0){F=F.replace(m_re1,"\b")}if(F.indexOf(m_cre2)>=0){F=F.replace(m_re2,"\t")}if(F.indexOf(m_cre3)>=0){F=F.replace(m_re3,"\n")}if(F.indexOf(m_cre4)>=0){F=F.replace(m_re4,"\f")}if(F.indexOf(m_cre5)>=0){F=F.replace(m_re5,"\r")}if(F.indexOf(m_cre6)>=0){F=F.replace(m_re6,"&")}if(F.indexOf(m_cre35)>=0){F=F.replace(m_re35,"<")}if(F.indexOf(m_cre36)>=0){F=F.replace(m_re36,">")}if(m_doLog){addLogMessage("reactOnNewModel - convert special characters - end")}}else{F=m_bufferedxml;m_bufferedxml=null}}m_cscformOccupied=false;if(F==null||F.length==0){switchToDisplayPAGE();status="";return}if(m_doLog){addLogMessage("reactOnNewModel - transfer model into datastructure - start")}var C=transferXMLIntoModel(F);if(m_doLog){addLogMessage("reactOnNewModel - transfer model into datastructure - end")}if(C==true){if(m_doLog){addLogMessage("reactOnNewModel - transfer model into datastructure - have found an unsupported char! \n XML: "+F)}switchToDisplayPAGE();status="";return}var y;y=getPropertyValue("dateDisplay");if(y!=null&&y!=""){m_dateDisplay=y}y=getPropertyValue("fdiw");if(y!=null&&y!=""){m_americanStyle=y}y=getPropertyValue("timeDisplay");if(y!=null&&y!=""){m_timeDisplay=y}y=getPropertyValue("decimalSeparator");if(y!=null&&y!=""){m_decimalSeparator=y}m_1000Separator=getPropertyValue("cISAddons.suppress1000Sep");y=getPropertyValue("language");if(y!=null&&y!=""){m_language=y}y=getPropertyValue("hotKeyCode");if(y!=null&&y!=""){m_hotKeyCode=y}y=getPropertyValue("cISAddons.dir");if(y!=null&&y!=""){m_direction=y}if(m_firstModel==true){if(m_doLog){addLogMessage("reactOnNewModel - fill textid spans - start")}parent.fillTextIdSpans();if(m_doLog){addLogMessage("reactOnNewModel - fill textid spans - end")}}var I=getPropertyValue("style");parent.parent.CasaSTYLESHEET=I;if(I!=null&&I!=""&&m_parentparent.CasaSessionSTYLESHEET!=null){m_parentparent.CasaSessionSTYLESHEET=I}var f=m_parentdocument.getElementById("casabacstylesheet");if(parent.CASAstylesheetfile==null&&m_parentparent.CasaSTYLESHEET!=null&&m_parentparent.CasaSTYLESHEET!=""){if(f.href.substring(0,4)!="http"){if(f.href!=m_parentparent.CasaSTYLESHEET){f.href=m_parentparent.CasaSTYLESHEET}}else{hrefSheetName=f.href;if(f.href.lastIndexOf("/")>0){hrefSheetName=f.href.substring(f.href.lastIndexOf("/")-0+1,f.href.length)}ppSheetName=m_parentparent.CasaSTYLESHEET;if(ppSheetName.lastIndexOf("/")>0){ppSheetName=ppSheetName.substring(ppSheetName.lastIndexOf("/")-0+1,ppSheetName.length)}if(hrefSheetName!=ppSheetName){f.href=m_parentparent.CasaSTYLESHEET}}}executeFormulas();var h=getPropertyValue("cISAddons.ulb");if(h!=null){m_parentparent.updateULB(h)}try{var R=getPropertyValue("cISAddons.noControlUpdate");if(R!="true"){if(m_doLog){addLogMessage("reactOnNewModel - informing listeners")}updateModelListeners(F);var u=getPropertyValue("cISAddons.browserTitle");if(m_parentparent.isPopupPage==true){u=CL().C_formatPopupTitle(u)}if(u!=null&&u.length>0){try{top.document.title=u}catch(A){}}var N=getPropertyValue("messageType");var k=getPropertyValue("messageShortText");CL().C_outputMessageSSW(m_parentparent.getCurrentSessionId(),m_parentparent.getCurrentProcessId(),N,k);if(getPropertyValue("cISAddons.cisA1")!="false"){CL().romuSB(this,k,N)}}else{reactOnModelUpdatePAGE();if(m_doLog){addLogMessage("reactOnNewModel - SKIPPING informing listeners - cisAddons.noControlUpdate is set")}}if(m_doLog){addLogMessage("reactOnNewModel - informing listeners - finished")}var K=new Date();try{if(getPropertyValue("cISAddons.lops")!="true"){switchToDisplayPAGE()}}catch(L){addLogMessage("Error when switching to display occurred");addLogMessage("This error normally happens when back is pressed in the browser");alert("Reloading page, reason (most likely): back-button pressed in browser");parentLocationReload()}var Q=new Date();if(parent.m_perfPageLoadEnd==null){parent.m_perfPageLoadEnd=Q}if(m_doLog){addLogMessage("reactOnNewModel - Duration of switchToDisplay = "+(Q.getTime()-K.getTime()))}if(R!="true"){upateSwitchToDisplayListerners(F);doMozResize(F)}status="";var x=getPropertyValue("nextPopup");var s=getPropertyValue("nextPopupId");var r=getPropertyValue("nextPopupModal");var z=getPropertyValue("nextPopupFeatures");var H=getPropertyValue("nextPopupTitle");var M=x!=null&&x!="null"&&x!="";if(M){CL().reactOnOpenPopupCL(this);if(s==null){s=""}var a=getPropertyValue("nextPopupSessionId");var D=getPropertyValue("nextPopupSubsessionId");var Z=getPropertyValue("nextPopupOnCloseMethod");var E=getPropertyValue("nextPopupOnCloseProperty");var t=getPropertyValue("nextPopupOnClosePropertyValue");openPopupPAGE(x,s,r,z,H,a,D,Z,E,t)}var g=getPropertyValue("cISAddons.favName");if(g!=null&&g!=""){var d=getPropertyValue("cISAddons.favURL");try{if(window.sidebar){window.sidebar.addPanel(g,d,"")}else{alert("Adding Favorites is not supported by your browser.")}}catch(c){alert('Error when calling the "Add To Favorites..."-Popup with...\nTitle = '+g+"\nURL = "+d+"\n"+c.message)}}try{var n=0;while(true){var P=getPropertyValue("frameMessages["+n+"].frameURL");var B=getPropertyValue("frameMessages["+n+"].frameTarget");var m=getPropertyValue("frameMessages["+n+"].frameMethod");if(B==null){break}if(m_doLog){addLogMessage("reactOnNewModel - frame communication "+B+"/"+m+"/"+P)}if(m=="FRAMERESIZE"){sizeTarget(B,P)}else{if(B!=null&&(B.substring(0,8)=="CASAOCC;"||B.substring(0,8)=="CASASWI;")){if(m_parentparent.isPopupPage){enqueueRefreshOccuranceOfAdapter(B)}else{refreshOccuranceOfAdapter(B)}}else{if(B!=null&&B.substring(0,8)=="CASAFOC;"){repointFocusInScreen(B)}else{if(P!=null&&P!=""){setURLInTarget(P,B)}else{if(m!=null&&m!=""){callMethodInTarget(m,B)}}}}}n++}var P=getPropertyValue("frameURL");var B=getPropertyValue("frameTarget");if(P!=null&&P!=""&&B!=null&&B!=""){setURLInTarget(P,B)}}catch(L){}try{if(m_focusSETIN==null){}}catch(Y){m_focusSETIN=undefined}try{var j=getPropertyValue("refreshParent");if(j!=null&&j=="true"){if(m_parentparent!=null&&m_parentparent.parent!=null&&m_parentparent.parent.csciframe!=null){switchToDisplayPAGE();try{if(m_focusSETIN==null){m_parentparent.parent.csciframe.m_focusSETIN=self}else{m_parentparent.parent.csciframe.m_focusSETIN=m_focusSETIN;m_focusSETIN=undefined}}catch(Y){m_focusSETIN=undefined}m_parentparent.parent.m_blockIOByFlush=true;m_parentparent.parent.csciframe.submitModel("submit");status="";return}if(m_parentparent!=null&&m_parentparent.parent!=null&&m_parentparent.parent.m_isCasabacMFPAGE==true&&m_parentparent.parent.parent!=null&&m_parentparent.parent.parent.parent!=null&&m_parentparent.parent.parent.parent.csciframe!=null){switchToDisplayPAGE();try{if(m_focusSETIN==null){m_parentparent.parent.parent.parent.csciframe.m_focusSETIN=self}else{m_parentparent.parent.parent.parent.csciframe.m_focusSETIN=m_focusSETIN;m_focusSETIN=undefined}}catch(Y){m_focusSETIN=undefined}m_parentparent.parent.parent.parent.csciframe.submitModel("submit");status="";return}if(parent!=null&&m_parentparent!=null&&m_parentparent.leaveToPage!=null){switchToDisplayPAGE();m_parentparent.window.location.href=m_parentparent.leaveToPage;status="";return}if(CL().CASA_popupopenersvalues!=null&&CL().CASA_popupopenersvalues.length>0&&CL().CASA_popupopenersvalues[CL().CASA_popupopenersvalues.length-1].csciframe!=null){var b=CL().CASA_popupopenersvalues[CL().CASA_popupopenersvalues.length-1].csciframe;switchToDisplayPAGE();try{if(m_focusSETIN==null){b.m_focusSETIN=self}else{b.m_focusSETIN=m_focusSETIN;m_focusSETIN=undefined}}catch(V){m_focusSETIN=undefined;b.m_focusSETIN=self}b.m_blockIOByFlush=true;if(b.parent){b.parent.m_blockIOByFlush=true}b.submitModel("submit");status="";return}if(parent!=null&&m_parentparent!=null){if(!(m_parentparent.isPopupPage==true||m_parentparent.isPopupPage=="true")){switchToDisplayPAGE();m_parentparent.window.location.href="../../HTMLBasedGUI/general/aboutBlank.html";status="";return}else{}}}}catch(L){m_firstModel=false}m_firstModel=false;var X=getPropertyValue("forcePageReload");if(X=="true"){setPropertyValue("forcePageReload",false,true);CL().clearBufferedAdapterStream(CL().buildBufferAccesKey(m_sessionId,m_processId,m_modelId,m_modelName,findPseudoURL()));parentLocationReload()}if(!M){if(m_doLog){addLogMessage("reactOnNewModel - Setting focus")}var J=0;if(m_resizeTimeout==null&&m_focusTimeout==null){J=10}else{if(m_focusTimeout==null){J=200}}if(J>0){parent.window.requestAnimationFrame(this.doSetFocus)}}var G=new Date();if(M&&parent.m_perfPageFocusEnd==null){parent.m_perfPageFocusEnd=G}if(m_doLog){addLogMessage("reactOnNewModel - Duration of client update = "+(G.getTime()-O.getTime()))}if(m_doLog){addLogMessage("reactOnNewModel - finished")}}catch(T){if(m_doLog){addLogMessage("reactOnNewModel - exception caught"+T)}}}function doSetFocus(c){pointFocus();try{if(m_focusSETIN==null){if(parent.m_perfPageFocusEnd==null){parent.m_perfPageFocusEnd=new Date()}status=""}else{try{m_focusSETIN.pointFocus()}catch(b){}m_focusSETIN=undefined;status=""}}catch(a){m_focusSETIN=undefined}}function executeFormulas(b){try{executeFORMULA(b)}catch(a){}}function getSCPBufferPriortity(){return getPropertyValue("cISAddons.scpBufferPriority")}function parentLocationReload(){var a=parent.location.href;parent.location.replace(a)}function updateModelListenersS(){updateModelListeners(null);m_focusRequestors=null}function updateModelListenersScroll(a){for(var b=0;b<m_modelListenersSCROLL.length;b++){m_modelListenersSCROLL[b](a)}}function updateModelListeners(c){m_continueUpdateModelListeners=true;addLogMessage("updateModelListeners - processing statusproplisteners");for(var a in m_statuspropListeners){try{var k=getPropertyValue(a);if(k=="ERROR"||k=="FOCUS"||k=="FOCUS_NO_SELECT"){vls=m_statuspropListeners[a];for(iiii=0;iiii<vls.length;iiii++){if(vls[iiii].CASA_displayprop!=null){var f=getPropertyValue(vls[iiii].CASA_displayprop);k=applyDisplayProperty(f,k)}if(k=="ERROR"||k=="FOCUS"){addFocusRequestor(vls[iiii])}else{if(k=="FOCUS_NO_SELECT"){addActiveElementRequestor(vls[iiii])}}}}}catch(j){}}var b=m_modelListeners.length;addLogMessage("updateModelListeners - #modellisteners: "+m_modelListeners.length);for(var h=0;h<m_modelListeners.length;h++){try{var g=new Date();m_modelListeners[h](c);var e=new Date()}catch(j){}if(m_continueUpdateModelListeners==false){return}}for(var a in m_propertyListenersTBP){try{var g=new Date();m_propertyListenersTBP[a](c);var e=new Date();if(m_doLog){addLogMessage("updateModelListeners - propertyListenersTBP["+a+"] "+(e.getTime()-g.getTime()))}}catch(j){}}m_propertyListenersTBP=[]}function transferXMLIntoModel(d){var F=[];var D=[];var r=0;var C="";if(m_properties==null){m_properties=[];m_model=[];addLogMessage("transferXMLIntoModel - m_properties was null");reapplyPropertyListeners("transferXMLIntoModel")}var l=false;var e=d.length;var B=0;var j=0;while(true){if(B>=e){break}vcurrentchar=d.charAt(B);if(vcurrentchar=="p"||vcurrentchar=="q"||vcurrentchar=="z"||vcurrentchar=="w"){j++;var z=5;if(vcurrentchar=="z"){z=10;vcurrentchar="p"}else{if(vcurrentchar=="w"){z=10;vcurrentchar="q"}}nLength=d.substr(B+1,2)*1;vLength=d.substr(B+3,z)*1;B+=(3+z);var a=d.substr(B,nLength);if(vcurrentchar=="q"){vNameBefore=a;a=D[a]}a=C+a;B+=nLength;var m=d.substr(B,vLength);B=B+vLength;var h=m_model[a];if(h==null){h=new Object();h.isNormalField=true;h.name=a;h.value=m;h.isChanged=false;h.isKilled=false;m_properties[m_properties.length]=h;m_model[a]=h;addPropertyListenerTBP(h)}else{h.value=m;h.isChanged=false;h.isKilled=false;addPropertyListenerTBP(h)}}else{if(vcurrentchar=="s"){var q=new Object();nLength1=d.substr(B+1,1)*1;nLength2=d.substr(B+2,2)*1;B+=4;var u=d.substr(B,nLength1);B+=nLength1;var n=d.substr(B,nLength2);B+=nLength2;D[u]=n}else{if(vcurrentchar=="x"){nLength=d.substr(B+1,2)*1;B+=3;m_modelDeltaId=d.substr(B,nLength);B+=nLength}else{if(vcurrentchar=="b"){nLength=d.substr(B+1,2)*1;B+=3;F[r]=d.substr(B,nLength);r++;C="";for(var H=0;H<r;H++){C+=F[H];C+="."}B+=nLength}else{if(vcurrentchar=="c"){B+=1;r--;C="";for(var H=0;H<r;H++){C+=F[H];C+="."}}else{if(vcurrentchar=="k"){nLength=d.substr(B+1,2)*1;B+=3;var a=d.substr(B,nLength);var E=a;B+=nLength;var h=m_model[E];if(h!=null){h.isKilled=true;h.isChanged=false;addPropertyListenerTBP(h)}m_killedItems++}else{if(vcurrentchar=="l"){addLogMessage("transferXMLIntoModel - model needs to be killed!");m_properties=[];m_model=[];reapplyPropertyListeners("vcurrentchar == l");B++}else{if(vcurrentchar=="a"){var w=d.substr(B+1,2)*1;var y=d.substr(B+3,2)*1;var g=d.substr(B+5,2)*1;var k=d.substr(B+7,2)*1;var I=d.substr(B+9,2)*1;var G=d.substr(B+11,8)*1;B+=19;var x=d.substr(B,w);B+=w;var K=d.substr(B,y);B+=y;var c=d.substr(B,g);B+=g;var t=d.substr(B,k);B+=k;var f=d.substr(B,I);B+=I;var A=d.substr(B,G);B+=G;var b=CL().buildBufferAccesKey(x,K,c,t,f);CL().bufferAdapterStream(b,A)}else{if(checkCharSequence(d.substr(0,20))){l=true}else{alert("Previous property: "+a);alert(d.substr(B,B+10));alert("This should never happen: "+d.charAt(B)+"\nat"+B+"\n\n"+d)}break}}}}}}}}}if(m_killedItems>100){var L=[];var J=[];for(var p in m_model){var s=m_model[p];if(s!=null&&(s.isKilled==false||s.listeners!=null)){L[p]=m_model[p];J[J.length]=s}}m_model=L;m_properties=J;m_killedItems=0}return l}function checkCharSequence(c){var b=new RegExp("^[a-z]{1}[0-9]{19}$").exec(c);if(b==null){return false}var a=""+b[0];return(b.index==0&&a.length==c.length)}function normalizeItemValuePair(d,e){var f="";var g=e.split(" ");var c="";var b=["width","height","font-size","padding","margin","top","left","right","bottom","border","border-top","border-left","border-right","border-bottom","margin-top","margin-left","margin-right","margin-bottom","padding-top","padding-left","padding-right","padding-bottom","text-indent","background-position","box-shadow","text-shadow","line-height","letter-spacing","max-height","min-height","max-width","min-width"];if(b.indexOf(d)>=0){var a;for(a=0;a<g.length;a++){c=g[a];if(a>0){f+=" "}f+=C_adjustUnits(c)}}else{f=e}return d+":"+f}function getStylePropertyValue(a){var e=getPropertyValue(a);if(e!=null){var d="";var f=e.split(";");var b;for(b=0;b<f.length;b++){var c=f[b].split(":");if(b>0){d+=";"}if(c.length==2){d+=normalizeItemValuePair(c[0].trim(),c[1].trim())}else{d+=f[b]}}}return d}function getPropertyValue(b){if(b==null){return null}var a=b;if(m_model==null){return}property=m_model[a];if(property==null){return null}if(property.isKilled==true){return null}return property.value}function setPropertyIsKilled(a,b){if(b==null){b=false}if(m_properties==null){return}if(m_model==null){return}property=m_model[a];if(property!=null){property.isKilled=b}}function setPropertyValue(a,b,c){if(b==null){b=""}b=""+b;if(m_properties==null){m_properties=[];m_model=[]}property=m_model[a];if(property!=null){property.value=b;if(c!=true){property.isChanged=true;addPropertyListenerTBP(property)}}else{property=new Object();property.isNormalField=true;property.name=a;property.value=b;if(c!=true){property.isChanged=true}m_properties[m_properties.length]=property;m_model[a]=property}if(m_beforeFirstReactOnNewModel==true){m_internalProperties[property.name]=true}else{handleUserInputProp(a)}if(m_internalProperties[a]!=true){m_bufferNeedsRefresh=true}}function handleUserInputProp(a){if(m_uiprop==null){if(parent.m_userinputprop!=null){m_uiprop=parent.m_userinputprop;m_uipropframe=this}else{try{if(m_parentparent.parent.m_userinputprop!=null){m_uiprop=m_parentparent.parent.m_userinputprop;m_uipropframe=m_parentparent.parent.C}else{m_uiprop=""}}catch(b){m_uiprop=""}}}if(m_uiprop!=""){if(m_uipropframe.getPropertyValue(m_uiprop)!="true"&&a.indexOf("pagePixel")!=0&&a.indexOf("repeatIndex")!=0&&a.indexOf("cISAddons.focus")!=0&&m_uiprop!=a){m_uipropframe.setPropertyValue(m_uiprop,"true");m_uipropframe.updateModelListeners(null)}}}function removePropertyValue(a){if(m_model[a]!=null){m_model[a]=null}}function blockActivities(){m_noactivityuntil=new Date()}function checkIfNoActivities(a){if(m_noactivityuntil==null){return false}if(a.valueOf()<(m_noactivityuntil.valueOf()+250)){return true}return false}function pushContinueMethod(){m_pushedContinueMethod=m_continueMethod}function popContinueMethod(){m_continueMethod=m_pushedContinueMethod}var m_submitModelFlushCalled;function submitModelFlush(b,a){if(m_lastServerFetch!=null&&m_submitModelFlushCalled!=null&&m_lastServerFetch.getTime()>=m_submitModelFlushCalled.getTime()){addLogMessage("submitModelFlush(): Already transferred!");return}else{addLogMessage("submitModelFlush(): Not yet transferred!");submitModel(b,a)}}function submitModel(b,a){var c=getPropertyValue("cISAddons.noResponse");if(c=="true"){addLogMessage("submitModel(): no submit - adapter sends noResponse==true");return}if(parent.m_blockIOByFlush==true){addLogMessage("submitModel(): parent.m_blockIOByFlush = "+parent.m_blockIOByFlush);addLogMessage("submitModel(): Processing Mozilla Flush Management!");parent.m_blockIOByFlush=false;m_submitModelFlushCalled=new Date();setTimeout('submitModelFlush("'+b+'",'+a+")",100);return}if(checkAllValidations()==false){parent.m_blockIOByFlush=false;return}if(m_sessionId==null){addLogMessage("submitModel - page not initialized yet, submit suppressed\nThis may happen in multi frame pages when not carefully paying attention to order of building up frame content\nProcessing will be interrupted for this page.");return}if(m_bufferNeedsRefresh==true||a==true){CL().clearBufferedAdapterStream(CL().buildBufferAccesKey(m_sessionId,m_processId,m_modelId,m_modelName,findPseudoURL()))}if(checkIO()==false){if(m_doLog){addLogMessage("submitModel - ended, page just blocked")}return}switchToOccupiedPAGE();pushContinueMethod();synchronizeInnerPagesAndContinue(submitModelContinue)}function submitModelContinue(){popContinueMethod();invokeDCListeners();var a=buildFirstTag("m","")+buildXMLFromModel("submitModel");fetchModelFromServer(a)}function refreshModel(){addLogMessage("refreshModel - started");if(this.m_refreshPopupParams!=null){setPropertyValue("cISAddons.closedPopupAdapterName",m_refreshPopupParams.modelName);setPropertyValue("cISAddons.closedPopupAdapterId",m_refreshPopupParams.modelId);m_refreshPopupParams=null}if(checkIO()==false){addLogMessage("refreshModel - need to repeat page or inner page just blocked");setTimeout("refreshModel();",50);return}switchToOccupiedPAGE();var a=buildFirstTag("e","")+buildXMLFromModel("refreshModel");addLogMessage("refreshModel - sending "+a);m_continueUpdateModelListeners=false;fetchModelFromServer(a)}function invokeMethodInModel(c,b,a){if(c=="casabacSynchronizeIfNecessary"&&this.m_modelName!=null&&(this.m_modelName.indexOf("NatLogon")>0||this.m_modelName.indexOf("NatDisconnect")>0)){return}if(CL().m_flushInProgress!=null){if(((new Date()).getTime()-CL().m_flushInProgress)>200){CL().m_flushInProgress=null}if(a!=true){setTimeout('invokeMethodInModel("'+c+'", "'+b+'")',20);return}}var h=getPropertyValue("cISAddons.noResponse");if(h=="true"){addLogMessage("invokeMethodInModel(): no invoke - adapter sends noResponse==true");return}if(b!=true){CL().clearBufferedAdapterStream(CL().buildBufferAccesKey(m_sessionId,m_processId,m_modelId,m_modelName,findPseudoURL()))}if(c!="casabacSynchronizeIfNecessary"&&checkAllValidations(false)==false){return}if(c=="xyzzyxxyzzyxxyzzyx_cishelp"){m_firstFocusCall=true}if(m_doLog){addLogMessage("invokeMethodInModel - started ("+c+")")}if(checkIO()==false){if(m_doLog){addLogMessage("invokeMethod - ended, page just blocked")}return}var d=new Date();if(checkIfNoActivities(d)){addLogMessage("invokeMethodInModel - page is blocked (Reason: noactivityuntil was set)");return}try{if(m_islogonform){for(var f=0;f<m_FieldsArray.length;f++){transferChangeFIELD(m_FieldsArray[f],false)}}}catch(g){}switchToOccupiedPAGE();CL().C_flushFocusInfo(this,a);m_bufferedMethodName=c;pushContinueMethod();synchronizeInnerPagesAndContinue(invokeMethodInModelContinue)}function invokeMethodInModelContinue(){try{var c=parent.window.location.href;if((c.indexOf("com.softwareag.cis.workplace.MFWorkplace")>=0||c.indexOf("com.softwareag.cis.workplace.MFActivities")>=0||c.indexOf("PluggableUI/Taskbar")>=0)&&m_bufferedMethodName!="xxxxxxxxxx"){callMethodInTarget("casabacSynchronizeIfNecessary","CONTENT")}}catch(a){}if(m_doLog){addLogMessage("invokeMethodInModelContinue - started")}popContinueMethod();invokeDCListeners();m_processCasabacSynchronizeIfNecessary=false;if(m_bufferedMethodName!=null&&m_bufferedMethodName.indexOf("xxxxxxx")<0){m_processInvokeMethodInModel=true}if(m_bufferedMethodName=="casabacSynchronizeIfNecessary"){var e=false;var f=m_properties.length;for(var d=0;d<f;d++){if(m_properties[d].isChanged==true&&!(m_internalProperties[m_properties[d].name]==true)&&m_properties[d].name!=null&&m_properties[d].name.indexOf("rowCount")<0&&m_properties[d].name.indexOf("rowCount")<0){e=true;break}}if(e==false){switchToDisplayPAGE();return}else{m_processCasabacSynchronizeIfNecessary=true}}var b;if(m_bufferedMethodName!="casabacSynchronizeIfNecessary"){b=buildFirstTag("v",m_bufferedMethodName)+buildXMLFromModel("invokeMethodInModel")}else{var b=buildFirstTag("m","")+buildXMLFromModel("submitModel")}m_bufferedMethodName="inittini";if(m_doLog){addLogMessage("invokeMethodInModelContinue - submitting")}fetchModelFromServer(b)}function buildXMLFromModel(b){if(m_properties==null){return""}var a=[];var e=m_properties.length;for(var c=0;c<e;c++){vprop=m_properties[c];if(vprop==null){continue}if(vprop.isChanged==true){vName=vprop.name;vValue=vprop.value;if(vName==null){continue}if(vValue==null){continue}if(vValue==null||vValue.length<100000){a.push("p"+detLength(vName,2)+detLength(vValue,5)+vName+vValue)}else{a.push("z"+detLength(vName,2)+detLength(vValue,10)+vName+vValue)}vprop.isChanged=false}}a.push("x"+detLength(m_modelDeltaId,2)+m_modelDeltaId);var d=a.join("");return d}function registerListener(a){if(parent.m_roi_firstusage==false){return}if(a==null){return}m_modelListeners.push(a)}function registerPropertyListener(d,a,c,b){if(b==false&&parent.m_roi_firstusage==false){return}if(a==null){return}if(a==""){return}if(m_properties==null){m_properties=[];m_model=[]}property=m_model[a];if(property==null){property=new Object();property.isNormalField=true;property.name=a;property.value=null;m_properties[m_properties.length]=property;m_model[a]=property}if(property.listeners==null){property.listeners=[]}property.listeners[c]=d;var e=new Object();e.listener=d;e.propertyName=a;e.listenerId=c;if(b!=true){m_propertyListeners.push(e)}m_propertyListenersTBP[c]=d}function registerStatusPropertyListener(c,a,b,d){if(parent.m_roi_firstusage==false){return}registerPropertyListener(c,a,b,false);if(m_statuspropListeners[a]==null){m_statuspropListeners[a]=[]}m_statuspropListeners[a].push(d)}function registerSwitchToDisplayListener(a,d,b){if(parent.CasaPAGE.style.display!="none"){return}var c=new Object();c.listenermethod=a;c.param=d;c.param2=b;m_switchToDisplayListeners.push(c)}function upateSwitchToDisplayListerners(a){for(var b=0;b<m_switchToDisplayListeners.length;b++){var c=m_switchToDisplayListeners[b];if(c.param2!=null){c.listenermethod(c.param,c.param2)}else{c.listenermethod(c.param)}}m_switchToDisplayListeners=[]}function registerSwitchToOccupiedListener(a,c){if(parent.m_roi_firstusage==false){return}var b=new Object();b.listenermethod=a;b.param=c;m_switchToOccupiedListeners.push(b)}function reapplyPropertyListeners(c){addLogMessage("reapplyPropertyListeners was called: "+m_propertyListeners.length);for(var a=0;a<m_propertyListeners.length;a++){var b=m_propertyListeners[a];registerPropertyListener(b.listener,b.propertyName,b.listenerId,true)}}function addPropertyListenerTBP(b){var a=b.listeners;if(a==null){b.listeners=[]}for(var c in a){m_propertyListenersTBP[c]=a[c]}}function registerListenerAsFirst(b){if(parent.m_roi_firstusage==false){return}index=m_modelListeners.length;var a;for(var a=index;a>0;a--){m_modelListeners[a]=m_modelListeners[a-1]}m_modelListeners[0]=b}function registerListenerAsLast(a){if(parent.m_roi_firstusage==false){return}m_modelListenersLast.push(a)}function registerListenerforSCROLLBAR(a){m_modelListenersSCROLL.push(a)}function removeListener(b){for(var a=0;a<m_modelListeners.length;a++){var c=""+m_modelListeners[a];if(c.indexOf(b)>=0){m_modelListeners.splice(a,1);break}}}function removePropertyListener(c){var f=[];var g=[];var d=[];for(var e=0;e<m_propertyListeners.length;e++){var b=m_propertyListeners[e];if(b.listenerId!=c){f.push(b)}else{d.push(b.propertyName)}}m_propertyListeners=f;for(var e=0;e<d.length;e++){var j=m_model[d[e]];if(j==null){continue}var h=new Object();for(var a in j.listeners){if(a!=c){h[a]=j.listeners[a]}}j.listeners=h}for(var a in m_propertyListenersTBP){if(a!=c){g[a]=m_propertyListenersTBP[a]}}m_propertyListenersTBP=g}function registerDCListener(a){m_dcListeners.push(a)}function invokeDCListeners(){for(var a=0;a<m_dcListeners.length;a++){m_dcListeners[a]()}}function removeProcess(){alert("should not be called (csc.removeProcess)")}function submitConnector(d,c,a,b){var g;var f="SESSIONID="+d+"&XML="+c+"&PAGEINITPARAM="+a+"&STAMP="+b;if(typeof ActiveXObject=="undefined"){g=new XMLHttpRequest()}else{g=new ActiveXObject("Microsoft.XMLHTTP")}try{g.open("POST","../servlet/Connector",false);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.setRequestHeader("Content-length",f.length);g.send(f)}catch(e){}return true}function removeSession(){try{var d=buildFirstTag("s","")+buildXMLFromModel("removeSession");var a=" ";var b=cscformiframe.document.getElementById("STAMP").value;submitConnector(m_sessionId,d,a,b)}catch(c){}}var mm_convertValue=null;function convertValue(c,a,b){if(mm_convertValue==null){mm_convertValue=CL().C_convertValue}return mm_convertValue.call(this,c,a,b)}var mm_convertYYYYMMDDIntoDisplayString=null;function convertYYYYMMDDIntoDisplayString(a){if(mm_convertYYYYMMDDIntoDisplayString==null){mm_convertYYYYMMDDIntoDisplayString=CL().C_convertYYYYMMDDIntoDisplayString}return mm_convertYYYYMMDDIntoDisplayString.call(this,a)}var mm_convertDisplayStringIntoYYYYMMDD=null;function convertDisplayStringIntoYYYYMMDD(a){if(mm_convertDisplayStringIntoYYYYMMDD==null){if(getPropertyValue("cISAddons.completedateinput")=="false"){mm_convertDisplayStringIntoYYYYMMDD=CL().C_convertDisplayStringIntoYYYYMMDD_2}else{mm_convertDisplayStringIntoYYYYMMDD=CL().C_convertDisplayStringIntoYYYYMMDD}}return mm_convertDisplayStringIntoYYYYMMDD.call(this,a)}var mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString=null;function convertYYYYMMDDHHMMSSMMMIntoDisplayString(a){if(mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString==null){mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString=CL().C_convertYYYYMMDDHHMMSSMMMIntoDisplayString}return mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString.call(this,a,"HHMMSSMMM")}function convertYYYYMMDDHHMMSSIntoDisplayString(a){if(mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString==null){mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString=CL().C_convertYYYYMMDDHHMMSSMMMIntoDisplayString}return mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString.call(this,a,"HHMMSS")}function convertYYYYMMDDHHMMIntoDisplayString(a){if(mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString==null){mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString=CL().C_convertYYYYMMDDHHMMSSMMMIntoDisplayString}return mm_convertYYYYMMDDHHMMSSMMMIntoDisplayString.call(this,a,"HHMM")}var mm_convertDisplayStringIntoYYYYMMDDHHMMSSMMM=null;function convertDisplayStringIntoYYYYMMDDHHMMSSMMM(a){if(mm_convertDisplayStringIntoYYYYMMDDHHMMSSMMM==null){mm_convertDisplayStringIntoYYYYMMDDHHMMSSMMM=CL().C_convertDisplayStringIntoYYYYMMDDHHMMSSMMM}return mm_convertDisplayStringIntoYYYYMMDDHHMMSSMMM.call(this,a)}function convertDisplayStringIntoYYYYMMDDHHMMSS(a){return a}var mm_convertHHMMSSIntoDisplayString=null;function convertHHMMSSIntoDisplayString(a){if(mm_convertHHMMSSIntoDisplayString==null){mm_convertHHMMSSIntoDisplayString=CL().C_convertHHMMSSIntoDisplayString}return mm_convertHHMMSSIntoDisplayString.call(this,a)}var mm_convertDisplayStringIntoHHMMSS=null;function convertDisplayStringIntoHHMMSS(a){if(mm_convertDisplayStringIntoHHMMSS==null){mm_convertDisplayStringIntoHHMMSS=CL().C_convertDisplayStringIntoHHMMSS}return mm_convertDisplayStringIntoHHMMSS.call(this,a)}var mm_convertFLOATIntoDisplayString=null;function convertFLOATIntoDisplayString(b,a){if(mm_convertFLOATIntoDisplayString==null){mm_convertFLOATIntoDisplayString=CL().C_convertFLOATIntoDisplayString}return mm_convertFLOATIntoDisplayString.call(this,b,a)}var mm_convertDisplayStringIntoFLOAT=null;function convertDisplayStringIntoFLOAT(a){if(mm_convertDisplayStringIntoFLOAT==null){mm_convertDisplayStringIntoFLOAT=CL().C_convertDisplayStringIntoFLOAT}return mm_convertDisplayStringIntoFLOAT.call(this,a)}var mm_convertINTIntoDisplayString=null;function convertINTIntoDisplayString(a){if(mm_convertINTIntoDisplayString==null){mm_convertINTIntoDisplayString=CL().C_convertINTIntoDisplayString}return mm_convertINTIntoDisplayString.call(this,a)}var mm_checkIfValueHasError=null;function checkIfValueHasError(c,a,b,d){if(mm_checkIfValueHasError==null){mm_checkIfValueHasError=CL().C_checkIfValueHasError}return mm_checkIfValueHasError.call(this,c,a,b,d)}var mm_checkIf1000SeparatorsHasError=null;function checkIf1000SeparatorsHasError(a){if(mm_checkIf1000SeparatorsHasError==null){mm_checkIf1000SeparatorsHasError=CL().C_checkIf1000SeparatorsHasError}return mm_checkIf1000SeparatorsHasError.call(this,a)}function convertDURATIONIntoDisplayString(a){}var CONTROLTYPE_CONTAINER=0;var CONTROLTYPE_INPUT=1;function convertStatusToVisible(b,a){if(b=="true"){return b}if(b=="false"){return b}if(b=="INVISIBLE"){return"false"}if(b=="DISPLAY"){if(a==CONTROLTYPE_CONTAINER){return"true"}else{return"false"}}if(b=="EDIT"){return"true"}if(b=="FOCUS"||b=="FOCUS_NO_SELECT"){return"true"}if(b=="ERROR"){return"true"}if(b=="ERROR_NO_FOCUS"){return"true"}return b}function detLength(a,b){if(a==null){a=""}a=""+a;a=a.replace(/\r\n/g,"\n");a=a.replace(/\n/g,"\r\n");vl=a.length;if(b==1){return""+vl}if(b==2){if(vl<10){return"0"+vl}return""+vl}if(b==3){if(vl<10){return"00"+vl}if(vl<100){return"0"+vl}return""+vl}if(b==5){if(vl<10){return"0000"+vl}if(vl<100){return"000"+vl}if(vl<1000){return"00"+vl}if(vl<10000){return"0"+vl}return""+vl}if(b==10){if(vl<10){return"000000000"+vl}if(vl<100){return"00000000"+vl}if(vl<1000){return"0000000"+vl}if(vl<10000){return"000000"+vl}if(vl<100000){return"00000"+vl}if(vl<1000000){return"0000"+vl}if(vl<10000000){return"000"+vl}if(vl<100000000){return"00"+vl}if(vl<1000000000){return"0"+vl}return""+vl}alert("This method is not prepared for the call, digits = "+b)}function detString(a){if(a!=null){return a}return""}function convertForSend(a){alert("convertForSend: Not required anymore!");return a}function convertForReceive(a){alert("convertForReceive: Not required anymore!");return a}function convertPropertyNameIn(a){alert("convertPropertyNameIn: Not required anymore!");return a}function convertApos(a){var b=a;if(b!=null&&b.indexOf("'")>=0){b=b.replace(/'/g,"&#146;")}return b}function convertSpecialHTMLCharacters(a){var b=a;if(b.indexOf("&")>=0){b=b.replace(/&/g,"&amp;")}if(b.indexOf('"')>=0){b=b.replace(/\"/g,"&quot;")}if(b.indexOf("<")>=0){b=b.replace(/\</g,"&lt;")}if(b.indexOf(">")>=0){b=b.replace(/\>/g,"&gt;")}return b}function buildFirstTag(a,d){var c=m_parentdocument.URL;var b=m_parentparent.isPopupPage;if(b==null){b=false}return a+detLength(m_sessionId,2)+detLength(m_processId,2)+detLength(m_modelId,2)+detLength(m_modelName,2)+detLength(m_pageName,2)+detLength(c,3)+detLength(d,5)+detLength(b,1)+detString(m_sessionId)+detString(m_processId)+detString(m_modelId)+detString(m_modelName)+detString(m_pageName)+detString(c)+detString(d)+detString(b)}function encodeURLParameter(c){if(c==null){return null}var b=c;try{c=encodeStringIntoUTF8(c);c=escape(c).replace(/\+/g,"%2C").replace(/\"/g,"%22").replace(/\'/g,"%27");return c}catch(a){return b}}function encodeStringIntoUTF8(e){e=e.replace(/\r\n/g,"\n");var a="";for(var d=0;d<e.length;d++){var b=e.charCodeAt(d);if(b<128){a+=String.fromCharCode(b)}else{if((b>127)&&(b<2048)){a+=String.fromCharCode((b>>6)|192);a+=String.fromCharCode((b&63)|128)}else{a+=String.fromCharCode((b>>12)|224);a+=String.fromCharCode(((b>>6)&63)|128);a+=String.fromCharCode((b&63)|128)}}}return a}var mm_replaceLiteralTRANSLATION=null;function replaceLiteralTRANSLATION(b,a){if(mm_replaceLiteralTRANSLATION==null){mm_replaceLiteralTRANSLATION=CL().C_replaceLiteralTRANSLATION}return mm_replaceLiteralTRANSLATION.call(this,b,a)}var mm_replaceLiteralWithAddTextTRANSLATION=null;function replaceLiteralWithAddTextTRANSLATION(d,c,b,a){if(mm_replaceLiteralWithAddTextTRANSLATION==null){mm_replaceLiteralWithAddTextTRANSLATION=CL().C_replaceLiteralWithAddTextTRANSLATION}return mm_replaceLiteralWithAddTextTRANSLATION.call(this,d,c,b)}function controlSelectionRefresh(f,a){var e=parent.document.querySelectorAll(".previewSelect");var d;for(d=0;d<e.length;d++){e[d].classList.remove("previewSelect")}e=parent.document.querySelectorAll(".previewActive");for(d=0;d<e.length;d++){e[d].classList.remove("previewActive")}var b;if(f==null&&a<0){return}var c=f.split(";");for(d=0;d<c.length-1;d++){b=parent.document.querySelector('[data-casaindex="'+c[d]+'"]');if(b!=null){b.classList.add("previewSelect")}}b=parent.document.querySelector('[data-casaindex="'+a+'"]');if(b!=null){b.classList.remove("previewSelect");b.classList.add("previewActive")}}function reactOnClickPage(b){if(parent.CASA_supressXYContextMenu==true){parent.CASA_supressXYContextMenu=false;return}var c=findSrcElement(b);if(c.tagName=="BUTTON"||c.tagName=="IMG"||c.tagName=="TD"){setControlMenuOffset(c,12,10)}else{try{setContextMenuXYPAGE(b.clientX,b.clientY)}catch(a){}}}function setControlMenuOffset(e,b,d){calculatePageOffset(e);var a=e.CASA_pageoffsetleft+b;var c=e.CASA_pageoffsettop+e.offsetHeight+d;setContextMenuXYPAGE(a,c)}var m_MPADIV=null;function findMPADIV(b){if(m_MPADIV==null&&b!=false){var a=parent.createElement("DIV");a.id="MPADIV";a.style.position="absolute";a.style.display="none";a.style.left="0";a.style.top="0";a.style.zIndex="100000";a.style.width="0";a.style.height="0";parent.document.body.appendChild(a);addClickAwayObject(a);m_MPADIV=a}return m_MPADIV}var m_THISOCCUPIED=null;var m_THISOCCUPIEDIMG=null;function findTHISOCCUPIED(g,f){if(m_THISOCCUPIED==null&&g!=false){var c=getPropertyValue("cISAddons.popupDivFrame");var e;if(c!=null&&c!=""){e=CL().C_findFrame(this,c,true)}var d;var a=null;if(e!=null){var b=findOwnerTHISOCCUPIED(e,f);d=b.document.getElementById("THISOCCUPIED");if(d==null){d=b.document.createElement("DIV")}}else{d=parent.createElement("DIV");a=parent.createElement("IMG")}d.id="THISOCCUPIED";d.style.position="absolute";d.style.display="none";d.style.cursor="wait";if(parent.m_immediatedisplay==true){d.style.display=""}d.style.left="0";d.style.top="0";d.style.zIndex="1010";d.style.width="100%";d.style.height="100%";m_THISOCCUPIEDIMG=buildOccupiedImage();if(e!=null){findOwnerTHISOCCUPIED(e,f).document.body.appendChild(d)}else{parent.document.body.appendChild(d);parent.document.body.appendChild(m_THISOCCUPIEDIMG)}m_THISOCCUPIED=d}return m_THISOCCUPIED}function findOwnerTHISOCCUPIED(a,b){if(b!=true&&(CL().CASA_popupopenersvalues!=null&&CL().CASA_popupopenersvalues.length>0&&m_parentparent!=null&&m_parentparent.parent!=null)){return m_parentparent.parent}if(CL().m_frameBufferSize==1){return parent}return extractContentWindow(a)}function buildOccupiedImage(){var a=parent.createElement("IMG");a.style.position="absolute";a.style.left="0";a.style.top="0";a.style.zIndex="1011";if(parent.m_immediatedisplay==true){a.style.display=""}a.src="../HTMLBasedGUI/general/occupied.gif";var b=parent.m_occupiedpixelwidth;if(parent.m_occupiedpixelwidth==null){b="29px"}a.style.width=C_adjustUnits(b);b=parent.m_occupiedpixelheight;b=C_adjustUnits(b);if(b==null){b="36px"}a.style.height=C_adjustUnits(b);if(parent.m_occupiedimage!=null){a.src=parent.m_occupiedimage}return a}function removeTHISOCCUPIED(){}function setDisplayTHISOCCUPIED(b){var a=findTHISOCCUPIED();a.style.display=b;if(m_THISOCCUPIEDIMG!=null){m_THISOCCUPIEDIMG.style.display=b}}function extractContentWindow(a){if(a==null){return null}if(a.contentWindow!=undefined){return a.contentWindow}else{return a}}function prepareDIR(a){if(a.body.style.direction!=parent.document.body.style.direction){a.body.style.direction=parent.document.body.style.direction}}var m_THISCONTEXTMENU=null;function findTHISCONTEXTMENU(h){if(m_THISCONTEXTMENU==null&&h!=false){try{var f;var e=null;var b=parent.m_centralContextMenu;var c=getPropertyValue("cISAddons.popupDivFrame");if(c!=null){e=CL().C_findFrame(this,c,true)}if(b&&e!=null){var d=extractContentWindow(e).document;f=d.createElement("DIV");if(!isSafari()){prepareDIR(d)}else{if(f.style.direction!=parent.document.body.style.direction){f.style.direction=parent.document.body.style.direction}}}else{f=parent.createElement("DIV")}f.id="THISCONTEXTMENU";f.style.display="none";f.style.position="absolute";f.style.top="0";f.style.width="100%";f.style.height="100%";f.style.zIndex="1000";if(parent.document.body.style.direction=="rtl"){f.style.right="0";f.style.align="right"}else{f.style.left="0";f.style.align="left"}f.style.valign="middle";if(b&&e!=null){f.CASA_cmOwnerFrame=extractContentWindow(e);f.CASA_iscentralCM=true;extractContentWindow(e).document.body.appendChild(f);var g=calculateFrameOffset(c);if(g!=null){f.CASA_frameOffsetLeft=g.frameOffsetLeft;f.CASA_frameOffsetTop=g.frameOffsetTop}}else{f.CASA_cmOwnerFrame=parent;f.CASA_iscentralCM=false;parent.document.body.appendChild(f)}addClickAwayObject(f);m_THISCONTEXTMENU=f}catch(a){}}if(parent.m_centralContextMenu&&m_THISCONTEXTMENU!=null){var g=calculateFrameOffset(getPropertyValue("cISAddons.popupDivFrame"));if(g!=null){m_THISCONTEXTMENU.CASA_frameOffsetLeft=g.frameOffsetLeft;m_THISCONTEXTMENU.CASA_frameOffsetTop=g.frameOffsetTop}}return m_THISCONTEXTMENU}var m_DRAGDROP=null;function findDRAGDROP(b){if(m_DRAGDROP==null&&b!=false){var a=parent.createElement("DIV");a.id="DRAGDROP";a.style.display="none";a.style.position="absolute";a.style.cursor="move";a.style.left="0";a.style.top="0";a.style.width="100px";a.style.height="100px";parent.document.body.appendChild(a);addClickAwayObject(a);m_DRAGDROP=a}return m_DRAGDROP}function submitModelFastBufferSwitch(){submitModel("submit")}function executeXMLHTTTPPost(f){var d=createXMLHttpRequest();var b="";if(m_parentparent.pageInitParam!=null){b=m_parentparent.pageInitParam}f=f.replace(/%/g,"%25");f=f.replace(/&/g,"%26");f=f.replace(/\n/g,"%0D%0A");var a="SESSIONID="+m_sessionId+"&XML="+f+"&PAGEINITPARAM="+b+"&STAMP=";var e=parent.location.href;var c=e.indexOf("?");if(c>0){e=e.substring(0,c)}var c=e.lastIndexOf("/");e=e.substring(0,c);var c=e.lastIndexOf("/");e=e.substring(0,c);d.open("POST",e+"/servlet/Connector",true);d.onreadystatechange=function(){if(d.readyState!=4){return}var h=d.responseText;var k=new Object();var g=h.indexOf('<textarea id="XML" name="XML">');var j=h.indexOf("</textarea>",g);k.xml=h.substring(g+30,j);g=h.indexOf('<textarea id="ERRORMESSAGE" name="ERRORMESSAGE">');j=h.indexOf("</textarea>",g);k.error=h.substring(g+48,j);g=h.indexOf('<input type="text" name="STAMP" id="STAMP" value="');j=h.indexOf('">',g);k.stamp=h.substring(g+50,j);reactOnNewModel(null,k)};d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(a)}function createDIVPOPUP(b,a,f,l){var d=getPropertyValue("cISAddons.popupDivFrame");if(d==null){alert("Unable to open popup");return}var h=CL().C_findFrame(this,d,true);if(h==null){alert("Unable to open popup");return}var c="";var g=extractContentWindow(h);var k=g.document;var j=g.innerHeight;var e=k.createElement("DIV");e.style.position="absolute";e.style.display="";e.style.left="0";e.style.top="0";e.style.height="100%";e.style.width="100%";e.style.zIndex="1000";e.style.backgroundColor="transparent";c+="<table height='100%' width='100%'>\n";c+="<tr align='center' valign='middle'>\n";c+="<td align='center' valign='middle'>\n";c+="<div id='POPUPDIV' name='POPUPDIV' style='align:center;valign:middle;"+abstractStyleInfo(a,j)+"'>\n";c+="<table cellspacing='0' cellpadding='0' height='100%' width='100%' class='POPUPDIVTable'>";c+="<tr class='POPUPDIVTitleBarCell'>";c+='<td class=\'POPUPDIVTitleBarCell\'><div nowrap="true" style="overflow-x: hidden;">'+f+"</div></td></tr>";c+="<tr class='POPUPDIVCell'><td class='POPUPDIVCell'>";c+='<iframe name=\'POPUPFRAME\' frameborder="0" scrolling="no" class="POPUPDIVFrame" id=\'POPUPFRAME\' src=\''+b+"'>\n";c+="</iframe>";c+="</td></tr></table>";c+="</div>";c+="</td></tr></table>";e.innerHTML=c;k.body.appendChild(e);e.refreshIt=l;if(extractContentWindow(h).m_divPopUpStack!=null){extractContentWindow(h).m_divPopUpStack.push(e)}}function findTHISPOPUPDIV(){var a=getPropertyValue("cISAddons.popupDivFrame");var b=CL().C_findFrame(this,a,true);if(extractContentWindow(b).m_divPopUpStack==null){return null}return extractContentWindow(b).m_divPopUpStack[extractContentWindow(b).m_divPopUpStack.length-1]}function removeDIVPOPUP(){try{var b=getPropertyValue("cISAddons.popupDivFrame");var d=CL().C_findFrame(this,b,true);var c=null;if(extractContentWindow(d).m_divPopUpStack!=null){c=extractContentWindow(d).m_divPopUpStack.pop()}var e=c.refreshIt;extractContentWindow(d).document.body.removeChild(c);e()}catch(a){}}function setHieghtWidthDIVPOPUP(){var c=findTHISPOPUPDIV();var b=c.getElementById("POPUPDIV");var a=b.style}function abstractStyleInfo(e,m){var h=e.split(";");var f="";var j=0;var c=0;var a=0;var n=0;var d=0;if((e.indexOf("dialogTop")>=0)||(e.indexOf("dialogLeft")>=0)){f+="position:absolute;"}for(var g=0;g<h.length;g++){var b=h[g];var k=b.split(":");if(b.indexOf("dialogHeight")>=0){j+=parseInt(k[1]);n=k[1];n=n.replace("px","")}if(b.indexOf("dialogWidth")>=0){d=k[1];d=d.replace("px","")}if(b.indexOf("dialogTop")>=0){var l=k[1];l=l.substring(l.indexOf("(")+1,l.indexOf(")"));j+=parseInt(l);a=l}if(b.indexOf("dialogLeft")>=0){var l=k[1];l=l.substring(l.indexOf("(")+1,l.indexOf(")"));c=l}}if(j>m){n=n-(parseInt(j)-parseInt(m))-5}f+="left:"+C_adjustUnits(c)+";top:"+C_adjustUnits(a)+";width:"+C_adjustUnits(d)+";height:"+C_adjustUnits(n)+";";return f}function applyDisplayProperty(b,a){if(b==null){return a}if(b.toLowerCase()=="true"){if(a=="FOCUS"||a=="FOCUS_NO_SELECT"){return"DISPLAY"}if(a=="ERROR"||a=="ERROR_NO_FOCUS"){return"ERROR_DISPLAY"}if(a=="INVISIBLE"||a=="ERROR_DISPLAY"||a=="EDIT"){return a}return"DISPLAY"}else{if(a=="FOCUS"||a=="FOCUS_NO_SELECT"||a=="ERROR"||a=="ERROR_NO_FOCUS"||a=="INVISIBLE"||a=="ERROR_DISPLAY"||a=="DISPLAY"){return a}return"EDIT"}}function showMessageInStatusBar(b,a){setPropertyValue(CASA_statusbar.CASA_typeprop,b);if(a.length>0){a="<font color='#B42C2C'><b>"+a+"</b></font>"}setPropertyValue(CASA_statusbar.CASA_shorttextprop,a);updateModelListenersS()}function getDateDisplay(){return m_dateDisplay}function getTimeDisplay(){return m_timeDisplay}function getDecimalSeparator(){return m_decimalSeparator}function get1000Separator(){return m_1000Separator}function getLanguage(){return m_language}function registerPopupPage(a,b){return CL().C_registerPopupPage(a,b)}function C_adjustUnits(a){return CL().C_adjustUnits(a)}function getTesttoolidHtml(){var a=false;if(getPropertyValue("testtoolidhtml4")=="true"){a=true}addLogMessage("ishtml4="+a);return CL().C_getTesttoolidHtml(a)}function addVersionInfoPAGECONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("PAGECONTROLS")}var m_stdDlgPopupFrame;function registerStandardDlgPopupPAGE(a){m_stdDlgPopupFrame=a}function closeStandardDlgPopupPAGE(){if(m_stdDlgPopupFrame!=null){CL().C_deregisterPopupPage(m_stdDlgPopupFrame);m_stdDlgPopupFrame.close();m_stdDlgPopupFrame=null}}var m_wpKeysInited=false;function initCasaControlPAGEBODY(a){a.CASA_bufferedHeight=undefined;a.CASA_bufferedWidth=undefined;m_wpKeysInited=false}var m_replacedCssPAGE=false;var m_closedByApplication=false;function reactOnModelUpdatePAGE(){if(CL()==null){return}if(!m_wpKeysInited){m_wpKeysInited=true;registerWPKeys(this.m_hotKeysPAGE)}try{if(romuINTPOPUP){romuINTPOPUP()}}catch(a){}m_closedByApplication=false;try{var t=getPropertyValue("cISAddons.zoom");if(t==null){t="100%"}}catch(g){}try{var c=getPropertyValue("cISAddons.dir");if(c==null){c="ltr"}if(c!=parent.document.body.style.direction){parent.document.body.style.direction=c}}catch(g){}try{var l=getPropertyValue("cISAddons.clearDS");if(l=="true"){if(this.parent.document.selection){this.parent.document.selection.empty()}else{this.parent.window.getSelection().removeAllRanges()}}}catch(g){}try{var w=getPropertyValue("cISAddons.popupWidth");if(w!=null){var b=getPropertyValue("cISAddons.popupHeight");parent.parent.resizeTo(w,b);if(parent.parent.dialogHeight!=undefined&&parent.parent.dialogWidth!=undefined){parent.parent.dialogHeight=b+"px";parent.parent.dialogWidth=w+"px"}}}catch(g){alert("POPUP WINDOW sizing "+g)}parent.m_pageCompletelyBuilt=true;var m=getPropertyValue("closeWindow");var p=getPropertyValue("nextPage");addLogMessage("nextPage = "+p);var z=getPropertyValue("nextPageId");if(parent.parent.isPopupPage==true){if(m=="true"){var q=false;m_continueUpdateModelListeners=false;m_closedByApplication=true;CL().C_deregisterPopupPage(parent.parent);var x=getPropertyValue("cISAddons.popupDivFrame");if(x!=null&&x!=""&&x!=undefined){var j=CL().C_findFrame(this,x,true);if(j!=null){if(extractContentWindow(j).m_divPopUpStack!=null&&extractContentWindow(j).m_divPopUpStack.length>0){q=true}}}if(q){removeDIVPOPUP()}else{parent.parent.close()}}}var d=getPropertyValue("cISAddons.closeWindow");try{if(d=="true"){m_continueUpdateModelListeners=false;m_closedByApplication=true;top.window.close()}}catch(g){}try{if(parent.parent.isPopupPage!=true&&this.m_modelName.indexOf("NatLogon")<0&&this.m_modelName.indexOf("NatDisconnect")<0&&this.m_modelName.indexOf("MFActivitiesAdapter")<0&&this.m_modelName.indexOf("MFWorkplaceAdapter")<0){var y=CL().findFrame(top,"AVAILABLEACTIVITIES");if(y!=null&&y.WORKAREA!=null&&y.WORKAREA.csciframe!=null&&y.WORKAREA.csciframe.unblockWorkplaceSelect!=undefined){addLogMessage("triggering unblockWorkplace");y.WORKAREA.csciframe.unblockWorkplaceSelect()}}}catch(k){}if(p!=null&&p!="null"&&p!=""){if(z==null){z=""}p=convertCasabacURL(p);var e=getPropertyValue("cISAddons.lops");parent.parent.changeCurrentPage(p,z,e);m_continueUpdateModelListeners=false}if(m_stdDlgPopupFrame!=null){if(p!=null&&p!="null"&&p!=""){closeStandardDlgPopupPAGE()}else{try{m_stdDlgPopupFrame.reactOnNewModel()}catch(n){alert("Date input refresh error "+n);closeStandardDlgPopupPAGE()}}}var r=findTHISCONTEXTMENU(false);if(r!=null){var h=getPropertyValue("cISContextMenuItems[0].text");if(h!=null&&h!=""){var u=getPropertyValue("cISAddons.cisContextMenuOnCloseMethod");r.style.display="";CL().openCONTEXTMENU(this,u,"marginAll")}else{r.style.display="none"}}try{reactOnModelUpdatePOPUPVALUES("cISAddons.pvinfos")}catch(n){}var f=getPropertyValue("cISAddons.popupSkipped");if(f=="true"){setTimeout("refreshModel();",50)}}function extractContentWindow(a){if(a.contentWindow!=undefined){return a.contentWindow}else{return a}}function reactOnClosePopup(){if(CL()==null){return}CL().C_deregisterPopupPage(m_parentparent);var b=CL().C_deregisterPopupOpener();var a=new Object();a.modelName=m_modelName;a.modelId=m_modelId;if(m_closedByApplication==false){if(m_parentparent.opener!=undefined&&m_parentparent.opener!=null){m_parentparent.opener.csciframe.m_refreshPopupParams=a}else{if(b!=null){b.m_refreshPopupParams=a}}}if(m_parentparent.opener!=undefined&&m_parentparent.opener!=null){m_parentparent.opener.csciframe.refreshModel();if(m_parentparent.opener.csciframe.m_parentparent.isPopupPage!=true){m_parentparent.opener.csciframe.flushRefreshOccuranceQueue()}}else{if(b!=null){b.refreshModel();if(b.m_parentparent.isPopupPage!=true){b.flushRefreshOccuranceQueue()}}}}var mm_openPopupPAGE;function openPopupPAGE(h,a,e,k,d,b,j,g,f,c){if(mm_openPopupPAGE==null){mm_openPopupPAGE=CL().C_openPopupPAGE}return mm_openPopupPAGE.call(this,h,a,e,k,d,b,j,g,f,c)}function setContextMenuXYPAGE(b,a){if(b==0&&a==0){return}var c=findTHISCONTEXTMENU();if(c.style.display!="none"){return}if(m_direction=="rtl"){c.style.right=""+C_adjustUnits((parent.innerWidth-b-10))}else{c.style.left=""+C_adjustUnits((b-10))}c.style.top=""+C_adjustUnits((a-8))}function reactOnHelpPAGE(){if(checkIO()==false){return}if(parent.m_helpIdPAGE!=null&&parent.m_helpIdPAGE!=""){setPropertyValue("param2",parent.m_helpIdPAGE);invokeMethodInModel("reactOnHelpRequestForHelpId")}}function reactOnContextMenuRequestPAGE(a){if(checkIO()==false){return false}if(parent.m_contextMenuMethodPAGE==null){return true}setContextMenuXYPAGE(a.clientX,a.clientY);invokeMethodInModel(parent.m_contextMenuMethodPAGE);return false}function onBlurPAGE(a){if(checkIO()==false){return}CL().reactOnBlurPageCL(this)}var xxxxxxxxxx=0;function onFocusPAGE(a){if(checkIO()==false){return}CL().reactOnFocusPageCL(this)}function invokeFlushMethodPAGE(){if(parent.m_flushMethodPAGE!=null){m_suppressFocusManagementOncePAGE=true;invokeMethodInModel(parent.m_flushMethodPAGE)}}function addVersionInfoHOTKEYCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("HOTKEYCONTROLS")}function iccHOTKEY(e,c){e.CASA_doTextIdReplacement=true;e.CASA_hotkeys=[];var b=decodeCSVString(c);for(var a=0;a<b.length;a+=2){var d=newHOTKEY(b[a]);if(d==null){continue}d.method=b[a+1];e.CASA_hotkeys.push(d);registerInternal(e,d)}}function registerWPKeys(d){var b=getPropertyValue("cISAddons.workplaceHotkeys");if(b==null){return}if(d.CASA_hotkeys==null){d.CASA_hotkeys=[]}var a=decodeString(b,";");if(a.length!=2){return}var c=newHOTKEY(a[0]);c.method="switchToNextActivity";d.CASA_hotkeys.push(c);registerInternal(d,c);var c=newHOTKEY(a[1]);c.method="switchToPreviousActivity";d.CASA_hotkeys.push(c);registerInternal(d,c)}function registerInternal(c,b){var a=c.CASA_id;if(a==null){a=c.id}addHotKeyWithControlScope(b.keyCode,b.ctrlKey,b.shiftKey,b.altKey,b.method,"CONTROL #"+a)}function iccKEY(e){var c=getPropertyValue("cISAddons.valueHelpKeys");if(c==null){return}if(e.CASA_hotkeys==null){e.CASA_hotkeys=[]}var a=decodeString(c,";");for(var b=0;b<a.length;b++){var d=newHOTKEY(a[b]);if(d==null){continue}d.method="javascript:reactOnValueHelpFIELD";e.CASA_hotkeys.push(d);registerInternal(e,d)}}function newHOTKEY(c){var a=decodeString(c,"-");var e=new Object();e.ctrlKey=false;e.altKey=false;e.shiftKey=false;for(var b=0;b<a.length;b++){var d=a[b];if(d=="ctrl"){e.ctrlKey=true}else{if(d=="alt"){e.altKey=true}else{if(d=="shift"){e.shiftKey=true}else{e.keyCode=d}}}}if(e.keyCode!=null){return e}return null}function reactOnKeyDownHOTKEY(a,j){if(a.CASA_doTextIdReplacement==true){a.CASA_doTextIdReplacement=false;replaceTExtIdsHOTKEYS(a)}if(j.keyCode==13&&j.ctrlKey==false&&j.shiftKey==false&&j.altKey==false&&getPropertyValue("cISAddons.hE")==1){addLogMessage("Hotkey Managment: ENTER hot key suppressed because HOTKEYSEnterMode is disabled");return}for(var d=0;d<a.CASA_hotkeys.length;d++){var k=a.CASA_hotkeys[d];if(j.keyCode==k.keyCode&&j.ctrlKey==k.ctrlKey&&j.shiftKey==k.shiftKey&&j.altKey==k.altKey){try{parent.document.body.focus();var b=findSrcElement(j);try{b.focus()}catch(g){}}catch(c){}if(k.method.indexOf("javaScript:")==0||k.method.indexOf("javascript:")==0){var e=k.method.substring(11,k.method.length);try{this[e](a,j,true)}catch(l){var h="";for(id in l){h+=l[id]+"\n"}alert("ERROR when calling function "+e+"\n\n"+h)}}else{setTimeout('invokeMethodInModel("'+k.method+'")',20)}return true}}return false}function replaceTExtIdsHOTKEYS(b){for(var a=0;a<b.CASA_hotkeys.length;a++){if(b.CASA_hotkeys[a].keyCode.charAt(0)=="$"){b.CASA_hotkeys[a].keyCode=getPropertyValue(b.CASA_hotkeys[a].keyCode)}}}function addVersionInfoBM_ALERTCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_ALERTCONTROLS")}function iccBM_ALERT(f,e,a,c,b,d){f.CASA_typeprop=a;f.CASA_shorttextprop=c;f.CASA_longtextprop=b;f.CASA_duration=d;if(e!=null){registerListener(e)}}function romuBM_ALERT(f){if(f==null){return}var e=getPropertyValue(f.CASA_typeprop);var a=getPropertyValue(f.CASA_shorttextprop);var b=getPropertyValue(f.CASA_longtextprop);if(a==null){a=""}var d=a;var c=null;if(b!=null){d=d+" "+b}if(e=="S"){c="alert-success"}if(e=="E"){c="alert-danger"}if(e=="W"){c="alert-warning"}if(c==null){return}showBM_ALERT(f,d,c);setPropertyValue(f.CASA_typeprop,"");setPropertyValue(f.CASA_shorttextprop,"");setPropertyValue(f.CASA_longtextprop,"")}function showBM_ALERT(c,a,b){c.innerHTML="<div id='alertdiv' class='alert "+b+"' ><a class='close' data-dismiss='alert'>x</a><span>"+a+"</span></div>";setTimeout(function(){c.innerHTML=""},parseInt(c.CASA_duration))}function addVersionInfoBM_BUTTONCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_BUTTONCONTROLS")}function iccBM_BUTTON(cc,romumethod,rohkmethod,rbmethod,method,nameprop,titleprop,visibleprop,invisiblemode,fileid){if(method!=null){cc.CASA_method=method}if(nameprop!=null){cc.CASA_nameprop=nameprop}if(titleprop!=null){cc.CASA_titleprop=titleprop}if(visibleprop!=null){cc.CASA_visibleprop=visibleprop}if(invisiblemode!=null){cc.CASA_invisiblemode=invisiblemode}if(fileid==null){if(!CL().isEditorPreview()){cc.onmouseup=rbmethod}cc.onkeypress=rbmethod}else{parent.$(cc).on("click",function(){parent.$("#"+fileid).click()});parent.document.getElementById(fileid).addEventListener("change",function(){var file=this.files[0];eval(cc.CASA_method.substring(11)+"(file)")})}addFocusable(cc);if(romumethod!=null){registerListener(romumethod)}cc.CASA_kc13Handler=true;addMLButton(cc,rohkmethod);cc.CASA_memvalue=undefined;hotKeyCode=findHotkeyKeycode(cc.innerHTML);if(hotKeyCode!=null){addControlBasedHotKey(cc.id,hotKeyCode,rohkmethod);cc.innerHTML=convertDoubleTildeToUTag(cc.innerHTML)}cc.CASA_fileid=fileid}function romuBM_BUTTON(d){if(d==null){return}if(d.CASA_nameprop!=null){var a=getPropertyValue(d.CASA_nameprop);if(a==null){a=""}if(d.CASA_memName==undefined||(convertDoubleTildeToUTag(a)!=d.CASA_memName)){removeHotKeys(d.id);var b=findHotkeyKeycode(a);if(b!=null){addControlBasedHotKey(d.id,b,parent.createFunction("rohk"+d.id,"param","C.transferModelBM_BUTTON(C"+d.id+");"))}a=convertDoubleTildeToUTag(a);d.CASA_memName=a;d.innerHTML=a}}if(d.CASA_titleprop!=null){var c=getPropertyValue(d.CASA_titleprop);if(c!=d.CASA_lastTitle){d.title=c;d.CASA_lastTitle=c}}handleBtVisibleprop(d)}function handleBtVisibleprop(c){if(c.CASA_visibleprop==null||CL().isEditorPreview()){return}var a=getPropertyValue(c.CASA_visibleprop);var b=c.parentNode;if(b.children.length>1){b=c}if(a=="true"){c.disabled=false;b.style.display="";b.style.visibility=""}else{if(c.CASA_invisiblemode=="invisible"){b.style.display="none";b.style.visibility=""}else{if(c.CASA_invisiblemode=="cleared"){b.style.visibility="hidden";b.style.display=""}else{if(c.CASA_invisiblemode=="disabled"){c.disabled=true;b.style.display="";b.style.visibility=""}}}}}function reactBM_BUTTON(a){return reactBM_BUTTONInternal(a)}function reactBM_BUTTONInternal(a){if(CL()==null){return}addLogMessage("BM_BUTTONControls.reactBUTTON(): Button was pressed");addLogMessage("reactButton() called with "+a.type);if(a.type=="mouseup"){return transferModelBM_BUTTON(a.currentTarget,a)}else{if(a.type=="keypress"){if(a.keyCode==32||a.keyCode==13){return transferModelBM_BUTTON(a.currentTarget,a)}}}}function transferModelBM_BUTTON(cc,evt){if(checkIO()==false){addLogMessage("BM_BUTTONControls.transferModelBM_BUTTON(): checkIO is blocked");addLogMessage("transferModelBM_BUTTON() - communication just blocked");return}if(cc.type=="reset"){return}if(cc.type=="submit"){for(var i=0;i<m_focusables.length;i++){if(m_focusables[i].type=="password"){transferChangeFFIELD(m_focusables[i],false)}}if(cc.form!=null){var theelems=cc.form.elements;for(i=0;i<theelems.length;i++){if(theelems[i].checkValidity&&!theelems[i].checkValidity()){return}}}}if(cc.type=="submit"||cc.type=="button"){if(cc.CASA_method==null){submitModel("submit")}else{if(cc.CASA_method.substr(0,11)=="javascript:"){addLogMessage("transferModelBM_BUTTON() - calling javascript-method");eval(cc.CASA_method.substring(11))}else{addLogMessage("transferModelBM_BUTTON() - calling invokeMethodInModel");invokeMethodInModel(cc.CASA_method)}}}}function addVersionInfoBM_CHECKBOXCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_CHECKBOXCONTROLS")}function iccBM_CHECKBOX(d,g,e,j,c,h,b,a,f){if(g!=null){registerListener(g)}addFocusable(d,true);registerPropertyListener(g,e,d.id);registerPropertyListener(g,a,d.id);registerPropertyListener(g,h,d.id);if(e!=null){d.CASA_valueprop=e}if(h!=null){d.CASA_visibleprop=h}if(b!=null){d.CASA_invisiblemode=b}if(j!=null){d.CASA_flush=j}if(c!=null){d.CASA_flushmethod=c}if(a!=null){d.CASA_statusprop=a}if(f!=null){d.CASA_nameprop=f}addMLTextNode(findRBCHTextNode(d))}function romuBM_CHECKBOX(b){if(b==null){return}var a=getPropertyValue(b.CASA_valueprop);if(a=="true"||a==true){b.checked=true}else{b.checked=false}handleRBCHVisibleprop(b);handleRBCHStatusprop(b)}function reactBM_CHECKBOX(a){return reactBM_CHECKBOXInternal(a)}function reactBM_CHECKBOXInternal(a){var b=a.currentTarget;if(b.checked==true){setPropertyValue(b.CASA_valueprop,"true")}else{setPropertyValue(b.CASA_valueprop,"false")}if(b.CASA_flush=="server"||b.CASA_flushmethod!=null){m_displayOccupied=false;if(b.CASA_flushmethod!=null){invokeMethodInModel(b.CASA_flushmethod)}else{submitModel("submit")}}else{if(b.CASA_flush=="screen"){updateModelListenersS()}}}function addVersionInfoBM_RADIOBUTTONCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_RADIOBUTTONCONTROLS")}function iccBM_RADIOBUTTON(d,h,e,j,l,c,k,b,a,g,f){if(h!=null){registerListener(h)}addFocusable(d,true);registerPropertyListener(h,e,d.id);registerPropertyListener(h,a,d.id);registerPropertyListener(h,k,d.id);if(e!=null){d.CASA_valueprop=e}if(j!=null){d.CASA_value=j}if(k!=null){d.CASA_visibleprop=k}if(b!=null){d.CASA_invisiblemode=b}if(l!=null){d.CASA_flush=l}if(c!=null){d.CASA_flushmethod=c}if(a!=null){d.CASA_statusprop=a}if(g!=null){d.CASA_nameprop=g}if(f!=null){d.CASA_datatype=f}addMLTextNode(findRBCHTextNode(d))}function romuBM_RADIOBUTTON(b){if(b==null){return}var a=getPropertyValue(b.CASA_valueprop);if(b.CASA_datatype!=null&&b.CASA_datatype=="float"){a=parseFloat(a)}if(a==b.CASA_value){b.checked=true}else{b.checked=false}handleRBCHNameprop(b);handleRBCHVisibleprop(b);handleRBCHStatusprop(b)}function reactBM_RADIOBUTTON(a){return reactBM_RADIOBUTTONInternal(a)}function reactBM_RADIOBUTTONInternal(a){var b=a.currentTarget;if(b.checked==true){setPropertyValue(b.CASA_valueprop,b.CASA_value)}if(b.CASA_flush=="server"||b.CASA_flushmethod!=null){m_displayOccupied=false;if(b.CASA_flushmethod!=null){invokeMethodInModel(b.CASA_flushmethod)}else{submitModel("submit")}}else{if(b.CASA_flush=="screen"){updateModelListenersS()}}}function handleRBCHNameprop(c){if(c.CASA_nameprop!=null){var b=getPropertyValue(c.CASA_nameprop);if(b==null){b=""}var a=findRBCHTextNode(c);if(a!=null){a.nodeValue=b}else{c.parentNode.appendChild(parent.document.createTextNode(b))}}}function findRBCHTextNode(b){var a=b.parentNode.firstChild;if(a.nodeType==3){return a}a=b.parentNode.lastChild;if(a.nodeType==3){return a}return null}function handleRBCHVisibleprop(c){if(c.CASA_visibleprop==null||CL().isEditorPreview()){return}var a=getPropertyValue(c.CASA_visibleprop);var b=c.parentNode.parentNode;if(b.children.length>1){b=c.parentNode}if(a=="true"){c.disabled=false;b.style.display="";b.style.visibility=""}else{if(c.CASA_invisiblemode=="invisible"){b.style.display="none";b.style.visibility=""}else{if(c.CASA_invisiblemode=="cleared"){b.style.visibility="hidden";b.style.display=""}else{if(c.CASA_invisiblemode=="disabled"){c.disabled=true;b.style.display="";b.style.visibility=""}}}}}function handleRBCHStatusprop(c){if(c.CASA_statusprop!=null){var b=c.parentNode.parentNode;if(c.CASA_initdivclass==undefined){c.CASA_initdivclass=b.className}b.className=c.CASA_initdivclass;var a=getPropertyValue(c.CASA_statusprop);if(a=="ERROR"||a=="FOCUS"){addFocusRequestor(c)}if(a=="ERROR"||a=="ERROR_NO_FOCUS"){b.className=b.className+" has-error"}else{if(a=="WARNING"){b.className=b.className+" has-warning has-feedback"}else{if(a=="SUCCESS"){b.className=b.className+" has-success has-feedback"}}}}}function addVersionInfoBM_FIELDCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_FIELDCONTROLS")}function iccFFIELD(y,t,D,w,q,f,c,A,m,p,x,C,s,B,h,a,e,j,u,z,l,b,n,d,r,g,k){y.onblur=D;y.onfocus=D;y.onchange=D;y.onkeydown=D;y.onkeyup=D;addFocusable(y,true);registerPropertyListener(t,w,y.id);registerPropertyListener(t,C,y.id);registerPropertyListener(t,z,y.id);registerPropertyListener(t,l,y.id);registerPropertyListener(t,d,y.id);registerPropertyListener(t,g,y.id);y.CASA_valueprop=w;if(q!=null){y.CASA_datatype=q}if(f!=null){y.CASA_editmask=f}if(x!=null){y.CASA_displayonly=x}if(C!=null){y.CASA_titleprop=C}if(s!=null){iccHOTKEY(y,s)}if(r!=null){y.CASA_invisiblemode=r}y.CASA_mlobject=new Object();if(k!=null){y.CASA_mlobject.value=k;addMLValue(y.CASA_mlobject)}else{y.CASA_mlobject.value="Invalid value"}y.CASA_lastControlValue=undefined;y.CASA_lastDir=null;y.CASA_lastTitle=undefined;if(A!=null){y.CASA_flush=A}if(m!=null){y.CASA_flushmethod=m}if(p!=null){y.CASA_flushindexprop=p}if(c!=null){y.CASA_alwaysflush=c}if(B!=null){y.CASA_maxlength=B}if(h!=null){y.CASA_autotab=h}if(a!=null){y.CASA_uppercase=a}if(z!=null){y.CASA_decimaldigitsprop=z}if(b!=null){y.CASA_decimaldigits=b}if(n!=null){y.CASA_digits=n}if(l!=null){y.CASA_digitsprop=l}if(d!=null){y.CASA_visibleprop=d}if(g!=null){y.CASA_statusprop=g}if(j!=null){y.CASA_autocompletedisplayname=j}if(u!=null){y.CASA_autocompletedisplayref=u}if(e!=null){y.CASA_autocompleteref=e;var E=parent.document.getElementsByName(e);if(E.length>0){registerPropertyListener(t,E[0].CASA_autocomplete.sourcelocationprop,y.id);registerPropertyListener(t,E[0].CASA_autocomplete.sourceprop,y.id)}}}function romuFFIELD(g,f){if(g.CASA_autocompleteref!=null){var a=parent.document.getElementsByName(g.CASA_autocompleteref);if(a.length>0){a[0].CASA_autocomplete.updateautocomplete(g)}}var b=getPropertyValue(g.CASA_valueprop);if(g.CASA_titleprop!=null){var e=getPropertyValue(g.CASA_titleprop);if(e!=g.CASA_lastTitle){g.title=e;g.CASA_lastTitle=e}}if(g.CASA_lastDir!=m_direction){if(m_direction=="rtl"){g.style.backgroundPosition="left"}else{g.style.backgroundPositionX="right"}g.CASA_lastDir=m_direction}if(g.CASA_datatype){var d=g.CASA_datatype;if(d=="date"){b=convertYYYYMMDDIntoDisplayString(b)}else{if(d=="time"){b=convertHHMMSSIntoDisplayString(b)}else{if(d=="timestamp"){b=convertYYYYMMDDHHMMSSMMMIntoDisplayString(b)}else{if(d=="float"){b=convertFLOATIntoDisplayString(b,decimalDigitsFloat)}else{if(d=="int"||d=="long"){b=convertINTIntoDisplayString(b)}else{if(d=="emtype"){try{b=convertIntoDisplayStringEDITMASK(this,b,g)}catch(c){}}}}}}}}g.value=b;g.readOnly=false;g.CASA_lastControlValue=g.value;if(g.CASA_displayonly=="true"){g.readOnly=true}handleVisibleprop(g);handleStatusprop(g)}function reactFFIELD(a){return reactFFIELDInternal(a)}function reactFFIELDInternal(a){if(CL()==null){return}else{if(a.type=="keydown"){return reactOnKeyDownFFIELD(a.currentTarget,a)}else{if(a.type=="keyup"){return reactOnKeyUpFFIELD(a.currentTarget,a)}else{if(a.type=="change"){return transferChangeFFIELD(a.currentTarget,"change")}else{if(a.type=="blur"){return transferChangeFFIELD(a.currentTarget,"blur")}else{if(a.type=="focus"){return reactOnFocusFFIELD(a.currentTarget)}}}}}}}function doOnInvalid(a){if(a==null){return}if(a.CASA_mlobject==null){return}a.setCustomValidity(a.CASA_mlobject.value)}function reactOnKeyDownFFIELD(c,a){if(checkIOForNoSubmits()==false){return false}try{c.focus()}catch(b){}if(a.keyCode==112){return false}return true}function reactOnKeyUpFFIELD(c,a){var b=c.value.length;if(b==c.maxLength&&(c.CASA_autotab=="true")&&b==C_getSelectionStart(c)){this.focusNextTabInput(c);this.clickAway()}return true}function C_getSelectionStart(a){if(typeof a.selectionStart=="number"){return a.selectionStart}}function reactOnFocusFFIELD(a){CL().C_regFocusInfo(a);return true}function transferChangeFIELD(c,b,a){transferChangeFFIELD(c,a);return true}function transferChangeFFIELD(c,b){if(b=="blur"){CL().C_unregFocusInfo(c)}if(checkIOForNoSubmits()==false){return false}if(c.tabIndex==-1){return false}var a=transferPropertyValueFFIELD(c);if(c.CASA_flush=="screen"&&a==c){flushIfDesiredFFIELD(c)}else{if((c.CASA_alwaysflush=="true"&&b=="blur")||((c.CASA_flushmethod!=undefined||c.CASA_flush!=undefined)&&c.CASA_alwaysflush!="true"&&a==c)){flushFFIELD(c)}}return true}function handleVisibleprop(c){if(c.CASA_visibleprop==null||CL().isEditorPreview()){return}var a=getPropertyValue(c.CASA_visibleprop);var b=c.parentNode;if(a=="true"){c.readOnly=false;b.style.display="";b.style.visibility=""}else{if(c.CASA_invisiblemode=="invisible"){b.style.display="none";b.style.visibility=""}else{if(c.CASA_invisiblemode=="cleared"){b.style.visibility="hidden";b.style.display=""}else{if(c.CASA_invisiblemode=="disabled"){c.readOnly=true;b.style.display="";b.style.visibility=""}}}}}function handleStatusprop(c){if(c.CASA_statusprop!=null){var b=c.parentNode;if(c.CASA_initdivclass==undefined){c.CASA_initdivclass=b.className}b.className=c.CASA_initdivclass;var a=getPropertyValue(c.CASA_statusprop);if(a=="ERROR"||a=="FOCUS"){addFocusRequestor(c)}if(a=="ERROR"||a=="ERROR_NO_FOCUS"){b.className=b.className+" has-error"}else{if(a=="WARNING"){b.classNames=b.className+" has-warning has-feedback"}else{if(a=="SUCCESS"){b.className=b.className+" has-success has-feedback"}}}}}var m_flushCC=null;function rtaFlushFFIELD(){if(m_flushCC!=null){if(m_flushCC.CASA_flushTimeoutId!=null){window.clearTimeout(m_flushCC.CASA_flushTimeoutId)}flushIfDesiredFFIELD(m_flushCC,"blur");m_flushCC=null}}function flushFFIELD(a){CL().C_saveCurrFocusInfo(a);m_flushCC=a;a.CASA_flushTimeoutId=window.setTimeout("rtaFlushFFIELD()",20)}function flushIfDesiredFFIELD(a,b){if(CL()==null){return}CL().C_flushIfDesiredFIELD(this,a,b)}function transferPropertyValueFFIELD(g){if(g.value==null||g.value==g.CASA_lastControlValue){g.CASA_skipNextOnBlurValidation=false;return}var e=g.value;var c=-1;if(g.CASA_decimaldigits!=null){c=g.CASA_decimaldigits}if(g.CASA_decimaldigitsprop!=null){c=getPropertyValue(g.CASA_decimaldigitsprop)}var f=-1;if(g.CASA_digits!=null){f=g.CASA_digits}if(g.CASA_digitsprop!=null){f=getPropertyValue(g.CASA_digitsprop)}if(g.CASA_datatype!=null){if(g.CASA_datatype=="float"||g.CASA_datatype=="int"){e=CL().C_remove1000Separators(this,e,c);if(this.checkIf1000SeparatorsHasError(e)==true){g.value=e;doOnInvalid(g);g.CASA_lastControlValue=e;return false}}if(g.CASA_datatype=="emtype"){try{e=this.convertValueEDITMASK(this,e,g);if(this.checkIfValueHasErrorEDITMASK(this,e,g)==true){g.value=e;doOnInvalid(g);g.CASA_lastControlValue=e;return false}}catch(a){}}else{e=this.convertValue(e,g.CASA_datatype,c);if(this.checkIfValueHasError(e,g.CASA_datatype,c,f)==true){g.value=e;doOnInvalid(g);g.CASA_lastControlValue=e;return false}}}if(g.CASA_datatype=="timestamp"){e=this.convertDisplayStringIntoYYYYMMDDHHMMSSMMM(e)}var d=true;if(g.CASA_datatype!=null&&e!=null&&e!=""){if(g.CASA_datatype=="date"){d=CL().C_checkDateVALIDATION(e,true)}if(g.CASA_datatype=="time"){d=CL().C_checkTimeVALIDATION(e)}if(d==false){doOnInvalid(g);g.CASA_lastControlValue=g.value;return false}}if(g.CASA_datatype=="float"){value=this.convertDisplayStringIntoFLOAT(e)}var b=g.CASA_datatype;if(c<0){c=0}if(b=="float"){g.value=this.convertFLOATIntoDisplayString(e,c)}if(b=="int"||b=="long"){g.value=this.convertINTIntoDisplayString(e)}if(b=="date"){g.value=this.convertYYYYMMDDIntoDisplayString(e)}if(b=="time"){g.value=this.convertHHMMSSIntoDisplayString(e)}if(b=="timestamp"){g.value=tt.convertYYYYMMDDHHMMSSMMMIntoDisplayString(e)}if(b=="emtype"){try{g.value=this.convertIntoDisplayStringEDITMASK(this,e,g)}catch(a){}}this.setPropertyValue(g.CASA_valueprop,e);g.CASA_lastControlValue=g.value;g.setCustomValidity("");return g}function addVersionInfoBM_ICONCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_ICONCONTROLS")}function iccBM_ICON(e,c,d,a,b){if(c!=null){registerListener(c)}if(d!=null){e.CASA_method=d}if(a!=null){e.CASA_visibleprop=a}if(b!=null){e.CASA_invisiblemode=b}}function romuBM_ICON(c){if(c==null){return}if(c.CASA_visibleprop==null||CL().isEditorPreview()){return}var a=getPropertyValue(c.CASA_visibleprop);var b=c.parentNode;if(a=="true"){c.disabled=false;c.style.display="";c.style.visibility="";if(c.CASA_invisiblemode=="colinvisible"){c.parentNode.style.display=""}}else{if(c.CASA_invisiblemode=="invisible"){c.style.display="none";c.style.visibility=""}else{if(c.CASA_invisiblemode=="cleared"){c.style.visibility="hidden";c.style.display=""}else{if(c.CASA_invisiblemode=="disabled"){c.disabled=true;c.style.display="";c.style.visibility=""}else{if(c.CASA_invisiblemode=="colinvisible"){c.parentNode.style.display="none"}}}}}}function reactBM_ICON(a){transferModelBM_ICON(a.currentTarget)}function transferModelBM_ICON(a){if(checkIO()==false){return}if(CL().isEditorPreview()){return}if(a.CASA_method!=null){invokeMethodInModel(a.CASA_method)}}function addVersionInfoBM_IMAGEOUTCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_IMAGEOUTCONTROLS")}function iccIMAGEOUT(d,g,f,h,b,a,c,j,e){d.CASA_valueprop=f;d.CASA_testtoolid=e;if(c!=null){d.CASA_width=c}if(j!=null){d.CASA_height=j}if(h!=null){d.CASA_titleprop=h}if(b!=null){d.CASA_styleclasses=b}if(a!=null){d.CASA_style=a}registerListener(g);d.innerHTML="";d.CASA_memValue=undefined}function romuIMAGEOUT(h){var b=getPropertyValue(h.CASA_valueprop);var f=null;if(h.CASA_titleprop!=null){f=getPropertyValue(h.CASA_titleprop)}if(b==h.CASA_memValue&&f==h.CASA_memTitleValue){return}h.CASA_memTitleValue=f;if(b==null||b==""){h.CASA_memValue=b;h.innerHTML="";return}var g="";if(h.CASA_width!=null){g='width="'+C_adjustUnits(h.CASA_width)+'" '}var c="";if(h.CASA_height!=null){c='height="'+C_adjustUnits(h.CASA_height)+'" '}var a="";if(f!=null){a='title="'+convertApos(f)+'" '}var e="img-responsive";if(h.CASA_styleclasses!=null){e=e+" "+h.CASA_styleclasses}e='class="'+e+'" ';var d="";if(h.CASA_style!=null){d='style="'+d+'" '}h.innerHTML='<img src="'+b+'" '+a+g+c+e+d+" "+getTesttoolidHtml()+"='"+h.CASA_testtoolid+"' >";h.CASA_memValue=b}function addVersionInfoBM_IHTMLCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_IHTMLCONTROLS")}function iccBM_IHTML(c,b,a){c.CASA_valueprop=a;c.CASA_memvalue="";if(b!=null){registerListener(b)}}function romuBM_IHTML(b){if(b==null){return}var a=getPropertyValue(b.CASA_valueprop);if(a==null){return}if(a==b.CASA_memvalue){return}b.CASA_memvalue=a;b.innerHTML=a}function addVersionInfoBM_LABELCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_LABELCONTROLS")}function iccBM_LABEL(e,d,b,a,c){if(d!=null){registerListener(d)}if(b!=null){e.CASA_nameprop=b;registerPropertyListener(d,e.CASA_nameprop,e.id)}if(a!=null){e.CASA_visibleprop=a}if(c!=null){e.CASA_invisiblemode=c}addMLSpan(e)}function romuBM_LABEL(d){if(d==null){return}if(d.CASA_nameprop!=null){var a=getPropertyValue(d.CASA_nameprop);if(a==null){a=""}d.textContent=a}if(d.CASA_visibleprop!=null&&(!CL().isEditorPreview())){var b=getPropertyValue(d.CASA_visibleprop);var c=d.parentNode;if(b=="true"){d.disabled=false;d.style.display="";d.style.visibility=""}else{if(d.CASA_invisiblemode=="invisible"){d.style.display="none";d.style.visibility=""}else{if(d.CASA_invisiblemode=="cleared"){d.style.visibility="hidden";d.style.display=""}else{if(d.CASA_invisiblemode=="disabled"){d.disabled=true;d.style.display="";d.style.visibility=""}}}}}}function addVersionInfoBM_MEDIACONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_MEDIACONTROLS")}function iccMEDIA(g,f,d,c,b){g.CASA_valueprop=d;g.CASA_id=f;g.CASA_videoid=c;if(b=="camera"){var a=navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints.facingMode;var e={video:true};if(a){e={video:{facingMode:"user"}}}if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia(e).then(function(j){var h=parent.document.getElementById(g.CASA_videoid);h.src=window.URL.createObjectURL(j);h.play()})}else{if(navigator.getUserMedia){navigator.getUserMedia(e,function(j){var h=parent.document.getElementById(g.CASA_videoid);h.src=window.URL.createObjectURL(j);h.play()})}else{if(navigator.webkitGetUserMedia){navigator.webkitGetUserMedia(e,function(j){var h=parent.document.getElementById(g.CASA_videoid);h.src=window.URL.createObjectURL(j);h.play()})}else{if(navigator.moxGetUserMedia){navigator.moxGetUserMedia(e,function(j){var h=parent.document.getElementById(g.CASA_videoid);h.src=window.URL.createObjectURL(j);h.play()})}else{if(navigator.mozGetUserMedia){navigator.mozGetUserMedia(e,function(j){var h=parent.document.getElementById(g.CASA_videoid);h.src=window.URL.createObjectURL(j);h.play()})}else{if(navigator.msGetUserMedia){navigator.msGetUserMedia(e,function(j){var h=parent.document.getElementById(g.CASA_videoid);h.src=window.URL.createObjectURL(j);h.play()})}}}}}}}}function onMEDIAPreview(c){var b=parent.document.getElementById(c.CASA_videoid);var a=parent.document.getElementById("CA_"+c.CASA_id);a.width=b.videoWidth;a.height=b.videoHeight;a.getContext("2d").drawImage(b,0,0,a.width,a.height)}function iccIMGUPLOAD(d,c,a,b){d.CASA_valueprop=a;d.CASA_id=c;d.CASA_fileinfoprop=b}function onIMAGEPreview(d,c){var b=parent.document.getElementById("CA_"+d.CASA_id);if(!c.type.match(/image.*/)){return}b.file=c;var a=new FileReader();a.onload=(function(e){return function(f){e.src=f.target.result}})(b);a.readAsDataURL(c);setPropertyValue(d.CASA_valueprop+".contentid",c.name);if(d.CASA_fileinfoprop!=null){setPropertyValue(d.CASA_fileinfoprop,c.name+" "+c.size+" "+c.type);updateModelListenersS()}}function onIMAGEUpload(c){var b=parent.document.getElementById("CA_"+c.CASA_id).src;var a=new FormData();a.append("imageData",b.replace(/^data:image\/(png|jpg|jpeg);base64,/,""));a.append("SESSIONID",parent.parent.getCurrentSessionId());a.append("MEDIA",getPropertyValue(c.CASA_valueprop+".contentid"));performAjaxSubmit(a,c.CASA_valueprop+".onUpload")}function onMEDIAUpload(c){var b=parent.document.getElementById("CA_"+c.CASA_id).toDataURL("image/png");var a=new FormData();a.append("imageData",b.replace(/^data:image\/(png|jpg);base64,/,""));a.append("SESSIONID",parent.parent.getCurrentSessionId());a.append("MEDIA",c.CASA_valueprop+".png");setPropertyValue(c.CASA_valueprop+".contentid",c.CASA_valueprop+".png");performAjaxSubmit(a,c.CASA_valueprop+".onUpload")}function performAjaxSubmit(a,c){var b=new XMLHttpRequest();b.open("POST","../servlet/MediaUpload",true);b.send(a);b.onload=function(d){if(this.status==200){invokeMethodInModel(c)}}}function iccVIDEO(e,d,c,a,b){if(d!=null&&d!=undefined){registerListener(d)}if(c!=null){e.CASA_valueprop=c}if(a!=null){e.CASA_videotypeprop=a}if(b!=null){e.CASA_autoplayprop=b}}function romuVIDEO(d){if(d==null){return}if(d.CASA_valueprop!=null){var c=getPropertyValue(d.CASA_valueprop);if(c!=d.CASA_lastVideo){d.src=c;d.CASA_lastVideo=c}}if(d.CASA_videotypeprop!=null){var a=getPropertyValue(d.CASA_videotypeprop);if(a!=d.CASA_lastVideoType){d.type=a;d.CASA_lastVideoType=a}}if(d.CASA_autoplayprop!=null){var b=getPropertyValue(d.CASA_autoplayprop);if(b!=d.CASA_lastAutoplay){if(b=="true"){d.autoplay=true;d.CASA_lastAutoplay=b}else{d.autoplay=false;d.CASA_lastAutoplay=b}d.load()}}}function addVersionInfoBM_NAVBARCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_NAVBARCONTROLS")}function Navbar(){}function iccNAVBAR(c,a,b){c.CASA_navbar=new Navbar();c.CASA_head=a;c.CASA_nav=b;return c.CASA_navbar}function addButtonNodeNAVBAR(b,g,f,h,a,e){var d=parent.document.createElement("li");d.setAttribute("id",b);if(h){d.setAttribute("class","active")}if(e){if(!parent.$(d).hasClass("disabled")){parent.$(d).addClass("disabled")}}var c=parent.document.createElement("a");c.setAttribute("onclick","C.onClickNAVBAR("+b+",'"+a+"')");var j=parent.document.createTextNode(f);c.appendChild(j);g.appendChild(d);d.appendChild(c)}function addDropdownNodeNAVBAR(h,g,d){var e=parent.document.createElement("li");e.setAttribute("id",h);e.setAttribute("class","dropdown");var f=parent.document.createElement("a");f.setAttribute("class","dropdown-toggle");f.setAttribute("data-toggle","dropdown");var b=parent.document.createElement("span");b.setAttribute("class","caret");var c=parent.document.createElement("ul");c.setAttribute("class","dropdown-menu");var a=parent.document.createTextNode(d);f.appendChild(a);f.appendChild(b);g.appendChild(e);e.appendChild(f);e.appendChild(c);return c}function onClickNAVBAR(b,a){parent.$(".nav").find(".active").removeClass("active");parent.$(b).addClass("active");if(a.length>0){invokeMethodInModel(a);parent.$(".navbar-collapse").collapse("hide")}}function addBrandNodeNAVBAR(b,d){var c=parent.document.createElement("a");c.setAttribute("id","navbar-brandA");c.setAttribute("class","navbar-brand");if(b.CASA_straighttext!="true"){c.innerHTML=d}else{var a=parent.document.createTextNode(d);c.appendChild(a)}b.CASA_head.appendChild(c)}function reactOnModelUpdateNAVBAR(d){var k=d.CASA_navbarcollectionprop;var m=getPropertyValue(k+".changeIndex");if(d.CASA_bufferedVCI!=undefined&&d.CASA_bufferedVCI==m){return}d.CASA_bufferedVCI=m;var e=parent.document.getElementById("navbar-brandA");if(e!=null){while(e.firstChild){e.removeChild(e.firstChild)}d.CASA_head.removeChild(e)}while(d.CASA_nav.firstChild){d.CASA_nav.removeChild(d.CASA_nav.firstChild)}var c=d.CASA_navbarbrandprop;if(c!=null){var h=getPropertyValue(c);if(h!=null&&h.length>0){addBrandNodeNAVBAR(d,h)}}var j=0;var f=null;while(true){var g=d.CASA_navbarcollectionprop+".items["+j+"].";var b=getPropertyValue(g+"level");if(b==null){break}var p=getPropertyValue(g+"text");var l=getPropertyValue(g+"opened");var n=getPropertyValue(g+"inactive");var a=getPropertyValue(g+"method");if(b==0){if(l==0){f=addDropdownNodeNAVBAR("li"+j+1,d.CASA_nav,p)}else{addButtonNodeNAVBAR("li"+j+1,d.CASA_nav,p,j==0,a,(n==true||n=="true"))}}else{addButtonNodeNAVBAR("li"+j+1,f,p,j==0,a,(n==true||n=="true"))}j++}}function addVersionInfoBM_PAGEHEADERCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_PAGEHEADERCONTROLS")}function iccBM_PAGEHEADER(c,b,a){if(b!=null){registerListener(b)}if(a!=null){c.CASA_nameprop=a}addMLSpan(c)}function romuBM_PAGEHEADER(b){if(b==null){return}if(b.CASA_nameprop!=null){var a=getPropertyValue(b.CASA_nameprop);if(a==null){a=""}b.textContent=a}}function addVersionInfoBM_PANELCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_PANELCONTROLS")}function iccBM_PANEL(e,d,b,c,a){if(d!=null){registerListener(d)}e.CASA_visibleprop=b;e.CASA_invisiblemode=c;e.CASA_foldedprop=a;registerPropertyListener(d,e.CASA_visibleprop,e.id);registerPropertyListener(d,e.CASA_foldedprop,e.id);if(e.CASA_foldedprop!=null){parent.$("#PANEL"+e.id).on("show.bs.collapse",function(){setPropertyValue(e.CASA_foldedprop,"false");updateModelListenersS()});parent.$("#PANEL"+e.id).on("hide.bs.collapse",function(){setPropertyValue(e.CASA_foldedprop,"true");updateModelListenersS()})}}function romuBM_PANEL(c){if((c==null)||((c.CASA_visibleprop==null)&&(c.CASA_foldedprop==null))){return}if(c.CASA_visibleprop!=null&&(!CL().isEditorPreview())){var a=getPropertyValue(c.CASA_visibleprop);if(a=="true"){c.disabled=false;c.style.display="";c.style.visibility="";if(c.CASA_invisiblemode=="colinvisible"){c.parentNode.style.display=""}}else{if(c.CASA_invisiblemode=="invisible"){c.style.display="none";c.style.visibility=""}else{if(c.CASA_invisiblemode=="cleared"){c.style.visibility="hidden";c.style.display=""}else{if(c.CASA_invisiblemode=="colinvisible"){c.parentNode.style.display="none"}}}}}if(c.CASA_foldedprop!=null){var b=getPropertyValue(c.CASA_foldedprop);if(b=="true"){parent.$("#PANEL"+c.id).collapse("hide")}else{parent.$("#PANEL"+c.id).collapse("show")}}}function iccBM_PANELHEADER(c,b,a){if(b!=null){registerListener(b)}c.CASA_nameprop=a;addMLSpan(c)}function romuBM_PANELHEADER(b){if(b==null){return}if(b.CASA_nameprop!=null){var a=getPropertyValue(b.CASA_nameprop);if(a==null){a=""}b.innerHTML=a}}function addVersionInfoBM_FORMCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_FORMCONTROLS")}function iccBM_FORMAREA(e,d,a,b,c){if(d!=null){registerListener(d)}e.CASA_visibleprop=a;registerPropertyListener(d,e.CASA_visibleprop,e.id);e.CASA_invisiblemode=b;e.CASA_legendprop=c;registerPropertyListener(d,e.CASA_legendprop,e.id);addMLSpan(e.childNodes[1].childNodes[1])}function iccBM_FORMGROUP(d,c,a,b){if(c!=null){registerListener(c)}d.CASA_visibleprop=a;registerPropertyListener(c,d.CASA_visibleprop,d.id);d.CASA_invisiblemode=b}function handleVisibility(c,b){if(c.CASA_visibleprop==null||CL().isEditorPreview()){return}var a=getPropertyValue(c.CASA_visibleprop);if(a=="true"){b.style.display="";b.style.visibility="";if(c.CASA_invisiblemode=="colinvisible"){b.parentNode.style.display=""}}else{if(c.CASA_invisiblemode=="invisible"){b.style.display="none";b.style.visibility=""}else{if(c.CASA_invisiblemode=="cleared"){b.style.visibility="hidden";b.style.display=""}else{if(c.CASA_invisiblemode=="colinvisible"){b.parentNode.style.display="none"}}}}}function romuBM_FORMAREA(a){if((a==null)||((a.CASA_visibleprop==null)&&(a.CASA_legendprop==null))){return}handleVisibility(a,a.parentNode);if(a.CASA_legendprop!=null){a.childNodes[1].childNodes[1].innerHTML=getPropertyValue(a.CASA_legendprop)}}function romuBM_FORMGROUP(a){if((a==null)||(a.CASA_visibleprop==null)){return}handleVisibility(a,a)}function addVersionInfoBM_TABCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_TABCONTROLS")}function iccBM_NAVTREE(c,b,a){if(b!=null){registerListener(b)}c.CASA_first=true;c.CASA_valueprop=a;c.CASA_memchangeindex=""}function romuBM_NAVTREE(e){if(e==null){return}if(e.CASA_valueprop==undefined){return}if(e.CASA_first){parent.$(".nav-tabs a").click(function(){var l=this.parentNode;if(!parent.$(l).hasClass("active")){parent.$(".nav li").removeClass("active");parent.$(l).addClass("active");invokeMethodInModel(e.CASA_valueprop+".onSelectTreeNode")}});parent.$(".nav-pills a").click(function(){var l=this.parentNode;if(!parent.$(l).hasClass("active")){parent.$(".nav li").removeClass("active");parent.$(l).addClass("active");invokeMethodInModel(e.CASA_valueprop+".onSelectTreeNode")}});e.CASA_first=false}var b=e.CASA_valueprop;var j=getPropertyValue(b+".changeIndex");if(e.CASA_memchangeindex==j){return}e.CASA_memchangeindex=j;while(true){if(e.children.length==0){break}e.removeChild(e.lastChild)}var f=0;var c=e;while(true){var d=b+".items["+f+"].";var k=getPropertyValue(d+"text");var a=getPropertyValue(d+"level");var h=getPropertyValue(d+"selected");var g=getPropertyValue(d+"opened");if(k==null&&a==null){break}if(a==null||a==0){c=addCollapseNode(e,k,f,g)}else{addTreeNode(e,c,k,h,f,a)}f=f+1}}function handleTreeSelection(f,b){var a=f.CASA_valueprop;var e=0;while(true){var d=a+".items["+e+"].";var c=getPropertyValue(d+"selected");if(c==null||c==undefined){break}if(b==e){setPropertyValue(d+"selected","true")}else{setPropertyValue(d+"selected","false")}e=e+1}}function addTreeNode(b,g,h,f,e,a){var d=parent.document.createElement("li");d.setAttribute("data-casa_index",e);var c=parent.document.createElement("a");parent.$(c).click(function(){var k=this.parentNode;if(!parent.$(k).hasClass("active")){parent.$(".nav li").removeClass("active");parent.$(k).addClass("active");handleTreeSelection(b,parseInt(k.attributes["data-casa_index"].nodeValue));invokeMethodInModel(b.CASA_valueprop+".onSelectTreeNode")}});var j=parent.document.createTextNode(h);c.appendChild(j);g.appendChild(d);d.appendChild(c);if(f=="true"){parent.$(d).addClass("active")}if(a>1){parent.$(d).addClass("treenode")}}function iccBM_TABSUBPAGES(f,b,d,a,c,e){if(d!=null){registerListener(d)}f.CASA_first=true;f.CASA_iframeid=""+b;f.CASA_valueprop=a;f.CASA_straighttabcount=c;f.CASA_memchangeindex="";f.CASA_dropdownstyle=e}function iccBM_TABPANE(b,a){if(a!=null){registerListener(a)}b.CASA_first=true}function romuBM_TABContainer(h){if(h==null){return}if(h.CASA_first){parent.$(".nav-tabs a").click(function(){parent.$(this).tab("show")});parent.$(".nav-pills a").click(function(){parent.$(this).tab("show")});parent.$(".nav-tabs a").on("show.bs.tab",function(m){onShowBM_TAB(m.target)});parent.$(".nav-pills a").on("show.bs.tab",function(m){onShowBM_TAB(m.target)});parent.$(".nav-tabs li:eq(0) a").tab("show");parent.$(".nav-pills li:eq(0) a").tab("show");h.CASA_first=false}if(h.CASA_valueprop==undefined){return}var d=h.CASA_valueprop;var e=getPropertyValue(d+".selectedIndex");if(!parent.$(".nav-pills li:eq("+e+") a").hasClass("active")){parent.$(".nav-pills li:eq("+e+") a").addClass("active")}if(!parent.$(".nav-tabs li:eq("+e+") a").hasClass("active")){parent.$(".nav-tabs li:eq("+e+") a").addClass("active")}var k=getPropertyValue(d+".changeIndex");if(h.CASA_memchangeindex==k){return}h.CASA_memchangeindex=k;var c=parseInt(h.CASA_straighttabcount);while(true){if(h.children.length<=c){break}h.removeChild(h.lastChild)}var j=0;var f=h;while(true){var g=d+".items["+j+"].";var b=getPropertyValue(g+"name");if(b==null){break}var a=getPropertyValue(g+"level");var l=getPropertyValue(g+"pageURL");if(b==null&&a==null){break}if(a==null||a<=1){if(l==null||l.length<=5){if(h.CASA_dropdownstyle=="tree"){f=addCollapseNode(h,b,j)}else{f=addDropdownNodeTab(h,b)}}else{addTabpage(h,h,b,j)}}else{addTabpage(h,f,b,j)}j=j+1}parent.$(".nav-pills li:eq("+e+") a").tab("show");parent.$(".nav-tabs li:eq("+e+") a").tab("show")}function addTabpage(g,a,c,b){var f=parent.document.createElement("li");var e=parent.document.createElement("a");e.setAttribute("data-toggle","tab");e.setAttribute("data-casa_pageindex",b);e.setAttribute("data-casa_straighttabcount",g.CASA_straighttabcount);e.setAttribute("data-casa_iframeid",g.CASA_iframeid);e.setAttribute("data-casa_valueprop",g.CASA_valueprop);e.setAttribute("href","#D"+g.CASA_iframeid);var d=parent.document.createTextNode(c);e.appendChild(d);f.appendChild(e);a.appendChild(f);parent.$(e).on("show.bs.tab",function(h){onShowBM_TAB(h.target)});parent.$(e).click(function(){parent.$(this).tab("show")})}function addDropdownNodeTab(g,d){var e=parent.document.createElement("li");e.setAttribute("class","dropdown");var f=parent.document.createElement("a");f.setAttribute("class","dropdown-toggle");f.setAttribute("data-toggle","dropdown");var b=parent.document.createElement("span");b.setAttribute("class","caret");var c=parent.document.createElement("ul");c.setAttribute("class","dropdown-menu");var a=parent.document.createTextNode(d);f.appendChild(a);f.appendChild(b);g.appendChild(e);e.appendChild(f);e.appendChild(c);return c}function addCollapseNode(h,b,a,f){var e=parent.document.createElement("li");e.setAttribute("class","dropdown");var d=parent.document.createElement("a");d.setAttribute("class","dropdown-toggle");d.setAttribute("data-toggle","collapse");d.setAttribute("data-target","#ul"+a);var g=parent.document.createElement("span");g.setAttribute("class","caret");var c=parent.document.createElement("ul");c.setAttribute("class","nav nav-pills nav-stacked tree collapse");c.setAttribute("id","ul"+a);parent.$(c).on("hidden.bs.collapse",function(){if(h.CASA_valueprop!=undefined&&h.CASA_valueprop!=null){if(getPropertyValue(h.CASA_valueprop+".items["+a+"].opened")!=null){setPropertyValue(h.CASA_valueprop+".items["+a+"].opened",0)}}});parent.$(c).on("shown.bs.collapse",function(){if(h.CASA_valueprop!=undefined&&h.CASA_valueprop!=null){if(getPropertyValue(h.CASA_valueprop+".items["+a+"].opened")!=null){setPropertyValue(h.CASA_valueprop+".items["+a+"].opened",1)}}});var j=parent.document.createTextNode(b);d.appendChild(j);d.appendChild(g);h.appendChild(e);e.appendChild(d);e.appendChild(c);if(f!=undefined&&f!=null&&f==1){parent.$(c).collapse("show")}return c}function onShowBM_TAB(b){parent.$(".nav li").removeClass("active");if(b.attributes["data-toggle"].nodeValue!="tab"){return}if(b.attributes["data-casa_valueprop"]==undefined){if(b.CASA_openmethod!=null){invokeMethodInModel(b.CASA_openmethod)}return}var h=b.attributes["data-casa_valueprop"].nodeValue;if(b.attributes["data-casa_iframeid"]!=undefined){var j=b.attributes["data-casa_pageindex"].nodeValue;var f=getPropertyValue(h+".items["+j+"].pageURL");if(f==null||f==""){return}f=convertCasabacURL(f);var g=getPropertyValue(h+".items["+j+"].pageId");var e=b.attributes["data-casa_iframeid"].nodeValue;var d=parent.parent.getCurrentSessionId();var a=parent.parent.getCurrentProcessId();var c=parseInt(b.attributes["data-casa_straighttabcount"].nodeValue)+parseInt(j);setPropertyValue(h+".selectedIndex",c);parent.frames[e].showPage(f,g,d,a,true);invokeMethodInModel(h+".trigger")}else{setPropertyValue(h+".selectedIndex",parseInt(b.attributes["data-casa_tabindex"].nodeValue));if(b.attributes["data-casa_triggerserver"]!=undefined){invokeMethodInModel(h+".trigger")}}}function iccBM_TAB(f,e,c,b,d,a){if(e!=null){registerListener(e)}if(c!=null){f.CASA_nameprop=c;registerPropertyListener(e,c,f.id)}if(b!=null){f.CASA_visibleprop=b;registerPropertyListener(e,b,f.id)}if(d!=null){f.CASA_invisiblemode=d}if(a!=null){f.CASA_openmethod=a}parent.$(".pager a").on("show.bs.tab",function(g){onShowBM_PAGER(g.target)})}function romuBM_TAB(b){if(b==null){return}if(b.CASA_nameprop!=null){var a=getPropertyValue(b.CASA_nameprop);if(b.firstChild){b.firstChild.nodeValue=a}else{b.appendChild(parent.document.createTextNode(a))}}handleTABVisibleprop(b)}function handleTABVisibleprop(c){if(c.CASA_visibleprop==null||CL().isEditorPreview()){return}var b=getPropertyValue(c.CASA_visibleprop);var a=c.parentNode;if(b=="true"){if(parent.$(a).hasClass("disabled")){parent.$(a).removeClass("disabled")}if(parent.$("#"+c.id).hasClass("disabled")){parent.$("#"+c.id).removeClass("disabled")}c.style.display="";c.style.removeProperty("pointer-events")}else{if(c.CASA_invisiblemode=="invisible"){if(parent.$(a).hasClass("active")){parent.$(".nav-tabs li:eq(0) a").tab("show");parent.$(".nav-pills li:eq(0) a").tab("show")}c.style.display="none"}else{if(c.CASA_invisiblemode=="disabled"){c.style.setProperty("pointer-events","none");if(!parent.$(a).hasClass("disabled")){parent.$(a).addClass("disabled")}if(!parent.$("#"+c.id).hasClass("disabled")){parent.$("#"+c.id).addClass("disabled")}if(parent.$(a).hasClass("active")){parent.$(".nav-tabs li:eq(0) a").tab("show");parent.$(".nav-pills li:eq(0) a").tab("show")}}}}}function iccBM_PAGER(c,b,a){if(b!=null){registerListener(b)}c.CASA_valueprop=a}function romuBM_PAGER(e){var d=0;while(true){var c=e.CASA_valueprop+".pager.items["+d+"].";var b=getPropertyValue(c+"index");if(b==null){break}var a=getPropertyValue(c+"name");updatePager(e,d,b,a);d=d+1}}function onShowBM_PAGER(a){var b=parseInt(a.attributes["data-casa_pageindex"].nodeValue);if(b<=-1){return}parent.$(".nav-pills li:eq("+b+") a").tab("show");parent.$(".nav-tabs li:eq("+b+") a").tab("show")}function updatePager(f,c,b,a){var d=f.children[c].firstChild;d.setAttribute("data-casa_pageindex",b);var e=parseInt(""+b);if(e==-1){d.style.display="none";return}d.style.display="";d.firstChild.nodeValue=a}function addVersionInfoBM_SIMPLEGRIDCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_SIMPLEGRIDCONTROLS")}var m_simpleGrid_de={emptyTable:"Keine Daten in der Tabelle vorhanden",info:"_START_ bis _END_ von _TOTAL_ Eintr&#228;gen",infoEmpty:"0 bis 0 von 0 Eintr&#228;gen",infoFiltered:"(gefiltert von _MAX_ Eintr&#228;gen)",infoPostFix:"",thousands:".",lengthMenu:"_MENU_ Eintr&#228;ge anzeigen",loadingRecords:"Wird geladen...",processing:"Bitte warten...",search:"Suchen",zeroRecords:"Keine Eintr&#228;ge vorhanden.",paginate:{first:"Erste",previous:"Zur&#252;ck",next:"N&#228;chste",last:"Letzte"},aria:{sortAscending:": aktivieren, um Spalte aufsteigend zu sortieren",sortDescending:": aktivieren, um Spalte absteigend zu sortieren"}};function initSIMPLEGRID(c,a,l,k,b,e,f,h,j,d){c.CASA_bufferedchangeindex=undefined;c.CASA_gridprop=a;c.CASA_selectprop=l;c.CASA_changeindexprop=k;c.CASA_lastchangeindex=-1;c.CASA_source=b;c.CASA_sourcelocation=e;c.CASA_sourcelocationprop=f;c.CASA_sortcol="0";if(h!=null){c.CASA_sortcol=h}c.CASA_sortorder="desc";if(j!=null){c.CASA_sortorder=j}c.CASA_features=d;c.CASA_griddata=[];if(c.CASA_datatable!=null){c.CASA_datatable.destroy()}initDatatable(c);var g="#"+c.id+" tbody";parent.$(g).on("click","tr",function(){if(parent.$(this).hasClass("selected")){parent.$(this).removeClass("selected")}else{c.CASA_datatable.$("tr.selected").removeClass("selected");parent.$(this).addClass("selected");if(c.CASA_selectprop!=null){var n=c.CASA_datatable.$("tr.selected");if(n!=null){var m=c.CASA_datatable.row(this).data();for(i=0;i<c.CASA_colinfos.length;i++){setPropertyValue(c.CASA_selectprop+"."+c.CASA_colinfos[i].property,m[i])}}}}if(c.CASA_onclickmethod!=null){invokeMethodInModel(c.CASA_onclickmethod)}});parent.$(g).on("dblclick","tr",function(){if(c.CASA_ondblclickmethod!=null){invokeMethodInModel(c.CASA_ondblclickmethod)}})}function reactOnModelUpdateSIMPLEGRID(a){if(a.CASA_changeindexprop!=null){var b=getPropertyValue(a.CASA_changeindexprop);if(b==a.CASA_lastchangeindex){return}a.CASA_lastchangeindex=b}if(a.CASA_datatable!=null){a.CASA_datatable.destroy()}a.CASA_griddata=[];initDatatable(a);a.CASA_datatable.init();a.CASA_datatable.draw()}function initDatatable(d){var c=new Object();if(m_language=="2"||m_language=="de"){c.language=m_simpleGrid_de}c.scroller=true;if(d.CASA_features!=null){var g=d.CASA_features.split(";");for(i=0;i<g.length;i++){var f=g[i].split(":");if(f.length==2){c[f[0]]=(f[1]=="true")}}}if(c.ordering!=false){c.order=[[d.CASA_sortcol,d.CASA_sortorder]]}if(d.CASA_source=="file"){if(d.CASA_sourcelocation!=null){c.ajax=d.CASA_sourcelocation}if(d.CASA_sourcelocationenprop!=null){c.ajax=getPropertyValue(d.CASA_sourcelocationprop)}}else{if(d.CASA_source=="url"){alert("Sorry, not yet supported")}else{var a;var e;var b=0;while(true){a=[];for(i=0;i<d.CASA_colinfos.length;i++){e=getPropertyValue(d.CASA_gridprop+".items["+b+"]."+d.CASA_colinfos[i].property);if(e==null){break}if(d.CASA_colinfos[i].datatype!=undefined){e=convertForDisplay(e,d.CASA_colinfos[i].datatype)}a.push(e)}if(a.length==0){break}d.CASA_griddata.push(a);b++}c.data=d.CASA_griddata;c.columns=[];for(i=0;i<d.CASA_colinfos.length;i++){if(d.CASA_colinfos[i].visible=="false"){c.columns[i]=new Object();c.columns[i].visible=false}else{c.columns[i]=null}}}}d.CASA_datatable=parent.$("#"+d.id).DataTable(c)}function convertForDisplay(a,b){if(b==undefined||b==null){return a}if(b=="date"){return convertYYYYMMDDIntoDisplayString(a)}if(b=="time"){return convertHHMMSSIntoDisplayString(a)}if(b=="timestamp"){return convertYYYYMMDDHHMMSSMMMIntoDisplayString(a)}if(b=="float"){return convertFLOATIntoDisplayString(a)}if(b=="int"||b=="long"){return convertINTIntoDisplayString(a)}}function addVersionInfoSUBCISPAGECONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("SUBCISPAGECONTROLS")}var m_SUBCISPAGEshowpagemethod;function initCasaControlSUBCISPAGE14(a){a.CASA_memPageURL=undefined;a.CASA_memProcessId=undefined;a.CASA_memModelId=undefined;a.CASA_memSessionId=undefined;a.CASA_memRefresh=undefined;a.CASA_refreshprop=undefined}function reactOnModelUpdateSUBCISPAGE14(c,e){var f=getPropertyValue(c.CASA_valueprop);var f=convertCasabacURL(f);if(f==null||f==""){f="../HTMLBasedGUI/general/blankpage.html"}var j=null;if(c.CASA_processidprop!=null){j=getPropertyValue(c.CASA_processidprop)}if(j==null||j=="inittini"){j=parent.parent.getCurrentProcessId()}var g=null;if(c.CASA_modelidprop!=null){g=getPropertyValue(c.CASA_modelidprop)}if(g==null||g=="inittini"){g=parent.parent.getCurrentModelId()}var a=null;if(c.CASA_sessionidprop!=null){a=getPropertyValue(c.CASA_sessionidprop)}if(a==null||a=="inittini"){a=parent.parent.getCurrentSessionId()}var b=getPropertyValue(c.CASA_refreshprop);var h=false;if(c.CASA_memPageURL!=f||c.CASA_memProcessId!=j||c.CASA_memModelId!=g||c.CASA_memSessionId!=a){c.CASA_memPageURL=f;c.CASA_memProcessId=j;c.CASA_memModelId=g;c.CASA_memSessionId=a;c.CASA_memRefresh=b;m_SUBCASAPAGEpageURL=f;m_SUBCASAPAGEprocessId=j;m_SUBCASAPAGEmodelId=g;m_SUBCASAPAGEsessionId=a;m_SUBCASAPAGEcasacontrol=c;m_SUBCISPAGEshowpagemethod=e;h=true;continueSUBCISPAGE14()}if(c.CASA_refreshprop!=null&&h==false){if(b!=c.CASA_memRefresh||b=="true"){var d=getPropertyValue("cISAddons.noResponse");if(d=="true"){addLogMessage("reactOnModelUpdateSUBCISPAGE14(): no refresh - adapter sends noResponse==true")}else{c.CASA_page.refreshModel()}}c.CASA_memRefresh=b}}function continueSUBCISPAGE14(){m_SUBCISPAGEshowpagemethod(m_SUBCASAPAGEpageURL,m_SUBCASAPAGEmodelId,m_SUBCASAPAGEsessionId,m_SUBCASAPAGEprocessId)}function showPageSUBCISPAGE14(c,h,j,e,a){var b="";try{var d=h.indexOf("&");if(d>0&&h.indexOf("StartDynamicPage?")<0&&h.indexOf("StartDynamicContent?")<0){c.CASA_page.pageInitParam=h.substring(d+1,h.length);b="&"+c.CASA_page.pageInitParam;h=h.substring(0,d)}}catch(k){}try{if(h.indexOf("/")<0){var g=parent.location.href;h=g.substring(0,g.lastIndexOf("/"))+"/"+h}else{h=h.substring(1,h.length);while(true){if(h.charAt(0)!="/"){h=h.substring(1,h.length)}else{break}}var f=parent.location.href;f=f.substring(0,f.lastIndexOf("/"));f=f.substring(0,f.lastIndexOf("/"));h=f+h}c.CASA_page.showPage(h,j,e,a)}catch(k){setTimeout('showPageSUBCISPAGE("'+c.CASA_page.name+'", "'+h+'","'+j+'","'+e+'","'+a+'")',200)}}function showPageSUBCISPAGE(a,c,f,e,d){var b=parent.frames[a];if(b==null){b=getFrameSUBCISPAGE(a)}if(b==null){return}if(b.document.readyState!="complete"){setTimeout('showPageSUBCISPAGE("'+a+'","'+c+'","'+f+'","'+e+'","'+d+'")',200);return}if(b.showPage){b.showPage(c,f,e,d)}}function getFrameSUBCISPAGE(e){var b=null;try{var c=getPropertyValue("cISAddons.popupDivFrame");var d=null;if(c!=null&&c!=""){d=CL().C_findFrame(this,c,true)}if(d==null){d=CL().C_findFrame(this,"_top",true)}if(d!=null){b=extractContentWindow(d).frames[e]}}catch(a){}return b}function addVersionInfoBM_SUBPAGECONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_SUBPAGECONTROLS")}function iccBM_SUBPAGE(c,b,a){if(b!=null){registerListener(b)}c.CASA_memURL=undefined;c.CASA_valueprop=a}function romuBM_SUBPAGE(b){var a=getPropertyValue(b.CASA_valueprop);if(a==null){a="../HTMLBasedGUI/general/blankpage.html"}if(b.CASA_memURL==a){return}b.CASA_memURL=a;b.src=a}function addVersionInfoBM_TEXTCONTROLS(){if(this.m_jsversions==undefined){m_jsversions=[]}if(this.m_jsfiles==undefined){m_jsfiles=[]}m_jsversions.push("CIS_V910_20180812_2005_NJX");m_jsfiles.push("BM_TEXTCONTROLS")}function iccFTEXTAREA(c,f,k,e,g,d,j,b,h,a){c.onblur=k;c.onfocus=k;c.onchange=k;c.onkeydown=k;addFocusable(c,true);registerPropertyListener(f,e,c.id);registerPropertyListener(f,g,c.id);registerPropertyListener(f,h,c.id);c.CASA_valueprop=e;if(g!=null){c.CASA_titleprop=g}if(d!=null){iccHOTKEY(c,d)}if(a!=null){c.CASA_invisiblemode=a}if(h!=null){c.CASA_visibleprop=h}c.CASA_lastControlValue=undefined;c.CASA_lastDir=null;c.CASA_td=c.parentNode;c.CASA_lastTitle=undefined;if(j!=null){c.CASA_flush=j}if(b!=null){c.CASA_flushmethod=b}}function romuFTEXTAREA(d,c){var a=getPropertyValue(d.CASA_valueprop);if(d.CASA_titleprop!=null){var b=getPropertyValue(d.CASA_titleprop);if(b!=d.CASA_lastTitle){d.title=b;d.CASA_lastTitle=b}}if(d.CASA_lastDir!=m_direction){if(m_direction=="rtl"){d.style.backgroundPosition="left"}else{d.style.backgroundPositionX="right"}d.CASA_lastDir=m_direction}d.value=a;d.CASA_lastControlValue=d.value;handleVisibleprop(d)}function reactFTEXTAREA(a){return reactFTEXTAREAInternal(a)}function reactFTEXTAREAInternal(a){if(CL()==null){return}else{if(a.type=="keydown"){return reactOnKeyDownFTEXTAREA(a.currentTarget,a)}else{if(a.type=="change"){return transferChangeFTEXTAREA(a.currentTarget,"change")}else{if(a.type=="blur"){return transferChangeFTEXTAREA(a.currentTarget,"blur")}else{if(a.type=="focus"){return reactOnFocusFTEXTAREA(a.currentTarget)}}}}}}function reactOnKeyDownFTEXTAREA(b,a){if(checkIO()==false){a.returnValue=false;return}if(a.keyCode==13){avoidProcessingForNextHotKey()}if(a.keyCode==112){reactOnHelpFTEXTAREA(b,a);a.preventDefault();a.stopPropagation()}if(a.keyCode==38||a.keyCode==40){a.stopPropagation()}}function reactOnHelpFTEXTAREA(c,a){if(checkIO()==false){return}if(c.CASA_helpid!=undefined){var b=c.CASA_helpid;if(c.CASA_helpid=="$valueprop$"){b=c.CASA_valueprop}setPropertyValue("param2",b);invokeMethodInModel("reactOnHelpRequestForHelpId");a.stopPropagation()}}function reactOnFocusFTEXTAREA(a){CL().C_regFocusInfo(a);return true}function transferChangeFTEXTAREA(b,a){if(a=="blur"){CL().C_unregFocusInfo(b)}if(checkIOForNoSubmits()==false){return false}if(b.tabIndex==-1){return false}transferPropertyValueFTEXTAREA(b,a);return true}function transferPropertyValueFTEXTAREA(b,a){if(b.value==null||b.value==b.CASA_lastControlValue){b.CASA_skipNextOnBlurValidation=false;return true}setPropertyValue(b.CASA_valueprop,b.value);b.CASA_lastControlValue=b.value;if(b.CASA_flush=="server"||b.CASA_flushmethod!=null){m_displayOccupied=false;if(b.CASA_flushmethod!=null){invokeMethodInModel(b.CASA_flushmethod)}else{submitModel("submit")}}else{if(b.CASA_flush=="screen"){updateModelListenersS()}}}function handleVisibleprop(c){if(c.CASA_visibleprop==null||CL().isEditorPreview()){return}var a=getPropertyValue(c.CASA_visibleprop);var b=c.parentNode;if(a=="true"){c.readOnly=false;b.style.display="";b.style.visibility=""}else{if(c.CASA_invisiblemode=="invisible"){b.style.display="none";b.style.visibility=""}else{if(c.CASA_invisiblemode=="cleared"){b.style.visibility="hidden";b.style.display=""}else{if(c.CASA_invisiblemode=="disabled"){c.readOnly=true;b.style.display="";b.style.visibility=""}}}}};