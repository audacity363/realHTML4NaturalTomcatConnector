<!DOCTYPE html>
<html style="height: 100%">

<head>
<meta charset="UTF-8">
<script>
	var m_hour = 0;
	var m_minute = 0;
	var m_second = 0;
</script>
	<title>Time Input</title>
    <link id="casabacstylesheet" rel="stylesheet" type="text/css" href="layout.css">
<base target="_self">

<script>
function switchToStyle(pStyle)
{
	try
	{
		if (pStyle == null || pStyle == "") return;
	    var vStyleSheet = document.styleSheets('casabacstylesheet');
	    if (vStyleSheet.href != pStyle)
	    	vStyleSheet.href = "../"+pStyle;
	}
	catch (exc)
	{
	}
}
function switchToDirection(pDir)
{
	if (pDir == "rtl")
	{
		document.dir = "rtl";

		img = document.getElementById('decreaseHour');
		img.src = "smallarrowright.gif";
		img = document.getElementById('increaseHour');
		img.src = "smallarrowleft.gif";
		img = document.getElementById('decreaseMinute');
		img.src = "smallarrowright.gif";
		img = document.getElementById('increaseMinute');
		img.src = "smallarrowleft.gif";
		img = document.getElementById('decreaseSecond');
		img.src = "smallarrowright.gif";
		img = document.getElementById('increaseSecond');
		img.src = "smallarrowleft.gif";

		td = document.getElementById('TD_HOUR');
		td.align = "right";
		td.style.paddingRight = "2";
		td = document.getElementById('TD_MINUTE');
		td.align = "right";
		td.style.paddingRight = "2";
		td = document.getElementById('TD_SECOND');
		td.align = "right";
		td.style.paddingRight = "2";
	}
}
</script>
</head>

<body style="height: 100%;margin:0" class="PAGEBody" onkeyup="if (event.keyCode==27) parent.close();" onunload="closePopup();">

<table cellspacing="0" cellpadding="0" style="width:100%; height:100%"><tr><td>

<table style="width: 100%; height: 100%" border="0" cellspacing="0" cellpadding="0" class="AREATable" >
<tr><td style="height:10%" colspan="7"></td></tr>
  <tr style="height:24px">
  <td style="width:40px"></td>
	 <td id='TD_HOUR' style="width:90px; vertical-align:middle;text-align:left"><font size="2px"><span id="SP_HOUR"></span></font></td>
	 <td style="width:40px"></td>
    <td style="vertical-align:middle"><a ondblclick="decreaseHour();" href="javascript:decreaseHour();"><img id='decreaseHour' border="0" src="smallarrowleft.gif" style="width:10px; height:16px"></a></td>
    <td style="text-align:center">
      <input type="text" id="HOUR" name="HOUR" onchange="takeAndCheck();" size="1" class="FIELDInputEdit">
    </td>
    <td style="vertical-align:middle"><a ondblclick="increaseHour();" href="javascript:increaseHour();"><img id='increaseHour' border="0" src="smallarrowright.gif" style="width:10px; height:16px"></a></td>
  <td style="width:40px"></td>
  </tr>
  <tr style="height:24px">
  <td style="width:40px"></td>
	 <td id='TD_MINUTE' style="width:90px; vertical-align:middle;text-align:left"><font size="2px"><span id="SP_MINUTE"></span></font></td>
	 <td style="width:40px"></td>
    <td style="vertical-align:middle"><a ondblclick="decreaseMinute();" href="javascript:decreaseMinute();"><img id='decreaseMinute' border="0" src="smallarrowleft.gif" style="width:10px; height:16px"></a></td>
    <td style="text-align:center">
      <input type="text" id="MINUTE" name="MINUTE" onchange="takeAndCheck();" size="1" class="FIELDInputEdit">
    </td>
    <td style="vertical-align:middle"><a ondblclick="increaseMinute();" href="javascript:increaseMinute();"><img id='increaseMinute' border="0" src="smallarrowright.gif" style="width:10px; height:16px"></a></td>
  <td style="width:40px"></td>
  </tr>
  <tr style="height:24px">
  <td style="width:40px"></td>
	 <td id='TD_SECOND' style="width:90px; vertical-align:middle;text-align:left" ><font size="2px"><span id="SP_SECOND"></span></font></td>
	 <td style="width:40px"></td>
    <td style="vertical-align:middle"><a ondblclick="decreaseSecond();" href="javascript:decreaseSecond();"><img id='decreaseSecond' border="0" src="smallarrowleft.gif" style="width:10px; height:16px"></a></td>
    <td style="text-align:center">
      <input type="text" id="SECOND" name="SECOND" onchange="takeAndCheck();" size="1" class="FIELDInputEdit">
    </td>
    <td style="vertical-align:middle"><a ondblclick="increaseSecond();" href="javascript: increaseSecond();"><img id='increaseSecond' border="0" src="smallarrowright.gif" style="width:10px; height:16px"></a></td>
  <td style="width:40px"></td>
  </tr>
  <tr><td style="height:7px" colspan="7"></td></tr>
  <tr>
  <td style="width:3px"></td>
  	<td style="height: 100%;text-align:center" colspan="5">
  	  <input id="BTN_OK" type="button" value="  OK  " onclick="reactOnOKPressed();" class="BUTTONInput">
  	</td>
  <td style="width:3px"></td>
  </tr>
<tr><td style="height:10%" colspan="7"></td></tr>
</table>

</td></tr></table>

<script>

	var HOUR=null;
	var MINUTE=null;
	var SECOND=null;

	function visualizeTime()
	{
		HOUR = document.getElementById("HOUR");
	    MINUTE = document.getElementById("MINUTE");
	    SECOND = document.getElementById("SECOND");
		HOUR.value = m_hour;
		MINUTE.value = m_minute;
		SECOND.value = m_second;
	}
	function increaseHour() { if (m_hour < 23) m_hour++; else m_hour=0; visualizeTime(); }
	function increaseMinute() { if (m_minute < 59) m_minute++; else m_minute=0; visualizeTime(); }
	function increaseSecond() { if (m_second < 59) m_second++; else m_second=0; visualizeTime(); }
	function decreaseHour() { if (m_hour > 0) m_hour--; else m_hour=23; visualizeTime(); }
	function decreaseMinute() { if (m_minute > 0) m_minute--; else m_minute=59; visualizeTime(); }
	function decreaseSecond() { if (m_second > 0) m_second--; else m_second=59; visualizeTime(); }
	function takeAndCheck()
	{
		m_hour = document.getElementById("HOUR").value;
		m_minute = document.getElementById("MINUTE").value;
		m_second = document.getElementById("SECOND").value;
		if (m_hour > 23) m_hour = 23;
		if (m_hour < 0) m_hour = 0;
		if (m_minute > 59) m_minute = 59;
		if (m_minute < 0) m_minute = 0;
		if (m_second > 59) m_second = 59;
		if (m_second < 0) m_second = 0;
	}

	function transferTime(hour, minute, second)
	{
	    HOUR = document.getElementById("HOUR");
	    MINUTE = document.getElementById("MINUTE");
	    SECOND = document.getElementById("SECOND");

		m_hour = hour;
		m_minute = minute;
		m_second = second;
		visualizeTime();
	}
	
	function init()
	{
	    vHOUR = document.getElementById("SP_HOUR"); vHOUR.innerHTML = parent.textHOUR;
	    vMINUTE = document.getElementById("SP_MINUTE"); vMINUTE.innerHTML = parent.textMINUTE;
	    vSECOND = document.getElementById("SP_SECOND"); vSECOND.innerHTML = parent.textSECOND;
	    vOK = document.getElementById("BTN_OK"); vOK.value = parent.textOK;
	    visualizeTime();
	    vOK.focus();	
		if (parent.opener != null)
		    parent.opener.csciframe.registerStandardDlgPopupPAGE(parent);
	}	

	function reactOnOKPressed()
	{
		rValue = [];
		rValue[0] = m_hour;
		rValue[1] = m_minute;
		rValue[2] = m_second;
		if (parent.opener != null) // MOZILLA
		{
			 parent.opener.csciframe.transferTimePopupRetValFIELD(rValue);
		}
		else // INTERNET EXPLORER
		{
			window.returnValue = rValue;
			closePopup();
		}
	}
	function closePopup()
	{
	    if (parent.opener != null)
		    parent.opener.csciframe.closeStandardDlgPopupPAGE(); 
		else
		    parent.close();
	}		


</script>
</body>

</html>
